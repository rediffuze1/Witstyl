
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

[Notifications] SMSUP_API_KEY non dÃ©finie, les SMS ne seront pas envoyÃ©s
[Notifications] RESEND_API_KEY non dÃ©finie, les emails ne seront pas envoyÃ©s
ðŸ”§ Configuration directe chargÃ©e
ðŸ”‘ OPENAI_API_KEY: âœ… TrouvÃ©e
ðŸŽ¤ VOICE_MODE: off
ðŸ—„ï¸ DATABASE_URL: âœ… TrouvÃ©e

ðŸ“‹ VÃ©rification des variables d'environnement

âŒ Variables d'environnement manquantes:

   - VITE_SUPABASE_URL
     Description: URL Supabase pour le client (doit Ãªtre identique Ã  SUPABASE_URL)
     Exemple: https://your-project-id.supabase.co
     âš ï¸  Cette variable est exposÃ©e cÃ´tÃ© client

   - VITE_SUPABASE_ANON_KEY
     Description: ClÃ© anonyme Supabase pour le client (doit Ãªtre identique Ã  SUPABASE_ANON_KEY)
     Exemple: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
     âš ï¸  Cette variable est exposÃ©e cÃ´tÃ© client

ðŸ’¡ CrÃ©ez un fichier .env Ã  la racine du projet avec ces variables.
   Vous pouvez copier .env.example comme point de dÃ©part.

ðŸ“ Variables configurÃ©es:

   âœ… SUPABASE_URL: https://nmyulnvgngaepseiwcwb.supabase.co
   âœ… SUPABASE_ANON_KEY: eyJhbGciOi...qx30
   âœ… SUPABASE_SERVICE_ROLE_KEY: eyJhbGciOi...sH5E
   âœ… PORT: 5001
   âšª HOST: (optionnel, non dÃ©fini)
   âœ… NODE_ENV: development
   âšª SESSION_SECRET: (optionnel, non dÃ©fini)
   âœ… OPENAI_API_KEY: sk-proj-El...SyAA
   âœ… VOICE_MODE: off
   âœ… DATABASE_URL: postgresql://postgres:DQLXbkZQARzG6S@@db.nmyulnvgngaepseiwcwb.supabase.co:5432/postgres?sslmode=require
   âšª REPLIT_URL: (optionnel, non dÃ©fini)

[SERVER] âœ…âœ…âœ… Route /api/auth/verify-salon montÃ©e TRÃˆS TÃ”T (ligne ~118) Ã  2025-11-20T14:36:55.323Z
[SERVER] âœ… Router /api/salons montÃ© Ã  2025-11-20T14:36:55.329Z
[SERVER] âœ… Routes disponibles: GET /api/salons/:salonId/hours, PUT /api/salons/:salonId/hours
[SERVER] âœ… Router /api/public montÃ© Ã  2025-11-20T14:36:55.329Z
[SERVER] âœ… Routes publiques disponibles: GET /api/public/salon, GET /api/public/salon/stylistes, GET /api/public/salon/appointments, GET /api/public/salon/closed-dates, GET /api/public/salon/stylist-hours, GET /api/public/salon/availability
[SERVER] âœ… Route /api/voice-agent montÃ©e directement
3:36:55 PM [express] Starting with Supabase authentication integration
3:36:55 PM [express] serving on 0.0.0.0:5001
[SERVER] âœ… Routes salon/hours enregistrÃ©es:
[SERVER] âœ… GET /api/salons/:salonId/hours
[SERVER] âœ… PUT /api/salons/:salonId/hours
[SERVER] âœ… Router salons montÃ© sur /api/salons
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-1762205819873-b8cer0w2t
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 15:00 (900 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 15:30 (930 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 16:00 (960 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 16:30 (990 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 17:00 (1020 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 17:30 (1050 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 18:00 (1080 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 18:30 (1110 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-1762205819873-b8cer0w2t&stylistId=stylist-1761504151845-kgglkv8h3
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'qWvOXu_Pkqbr0A7mIzWSnML2oCcfWsQc',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:01:13 PM [express] GET /api/auth/user 304 in 10ms :: {"authenticated":false,"user":null,"userType"â€¦
[REQ] GET /
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'Lt1bHmuOSoRzUOEfVM4ZrcyLORAZR3Ng',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:02:02 PM [express] GET /api/auth/user 304 in 3ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /book
[REQ] GET /src/main.tsx?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /@react-refresh
[REQ] GET /@vite/client
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/App.tsx?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/lib/theme.ts?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /
[REQ] GET /src/components/ui/tooltip.tsx
Browserslist: browsers data (caniuse-lite) is 13 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/book.tsx
[REQ] GET /book
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/main.tsx?v=xfmyvbw5XJX-k08ombxUB
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/main.tsx?v=uj6z6wYrY8yg0JUUYPiSW
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-dom_client.js?v=19851b3b
[REQ] GET /src/App.tsx?v=uj6z6wYrY8yg0JUUYPiSW
[REQ] GET /src/index.css?v=uj6z6wYrY8yg0JUUYPiSW
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-WOOG5QLI.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=19851b3b
[REQ] GET /src/lib/theme.ts?v=uj6z6wYrY8yg0JUUYPiSW
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/wouter.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react.js?v=19851b3b
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@tanstack_react-query.js?v=19851b3b
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-tooltip.js?v=19851b3b
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-KBTYAULA.js?v=19851b3b
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/lucide-react.js?v=19851b3b
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/date-fns.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/date-fns_locale.js?v=19851b3b
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-hook-form.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/zod.js?v=19851b3b
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@hookform_resolvers_zod.js?v=19851b3b
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/recharts.js?v=19851b3b
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-26AQ2U4J.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-HSXLETPZ.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-CCZRIP46.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-FO7K3TKB.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-R5YVGTHA.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-VRF373B3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-OLWLIEH3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-5AJU3CG7.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-EVLBUYTV.js?v=19851b3b
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-BOL2CCOG.js?v=19851b3b
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/lenis.js?v=19851b3b
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/framer-motion.js?v=19851b3b
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/class-variance-authority.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-label.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-slot.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-separator.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-IIGUYIAY.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-dialog.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-7RUGVAIV.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-O42U6HQT.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-4BFJKWC4.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-switch.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-select.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-orm.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-WGQNECLP.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-avatar.js?v=19851b3b
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-U7P2NEEE.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-zod.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-orm_pg-core.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-tabs.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/tailwind-merge.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/clsx.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-toast.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-day-picker.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-popover.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-accordion.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-43G6IMPT.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-O2TAHQ3S.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-4RO2SXZU.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-VKUWRSEE.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-GAH2UDO3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-HPKT35ZE.js?v=19851b3b
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[REQ] GET /api/public/salon/stylistes
[GET /api/public/salon/stylistes] Route appelÃ©e
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'o2pt3gWM3sDjB2Sp6sIEvOPXM5sqtyEd',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:02:10 PM [express] GET /api/auth/user 200 in 2ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[REQ] GET /api/public/salon
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/hours
[GET /api/salons/:salonId/hours] 2025-11-20T16:02:10.405Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: salon-c152118c-478b-497b-98db-db37a4c58898
5:02:11 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services 200 in 974mâ€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'fR381gDzB1M2kvn57QJ4ADGALY-Zcg8P',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:02:11 PM [express] GET /api/auth/user 200 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: '060BoDYXz_y_ZSgtoORuxNps4k3zZV3k',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:02:13 PM [express] GET /api/auth/user 304 in 4ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /
[REQ] GET /@vite/client
[REQ] GET /src/main.tsx?v=NdJ2_PLGqHjDSRru6gUtB
[REQ] GET /@react-refresh
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-dom_client.js?v=19851b3b
[REQ] GET /src/index.css?v=NdJ2_PLGqHjDSRru6gUtB
[REQ] GET /src/App.tsx?v=NdJ2_PLGqHjDSRru6gUtB
[REQ] GET /src/lib/theme.ts?v=NdJ2_PLGqHjDSRru6gUtB
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-WOOG5QLI.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/wouter.js?v=19851b3b
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@tanstack_react-query.js?v=19851b3b
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react.js?v=19851b3b
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-tooltip.js?v=19851b3b
[REQ] GET /src/lib/utils.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-KBTYAULA.js?v=19851b3b
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/lucide-react.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/date-fns_locale.js?v=19851b3b
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/date-fns.js?v=19851b3b
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-hook-form.js?v=19851b3b
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@hookform_resolvers_zod.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/zod.js?v=19851b3b
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/recharts.js?v=19851b3b
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-toast.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/class-variance-authority.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-R5YVGTHA.js?v=19851b3b
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-CCZRIP46.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-26AQ2U4J.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-FO7K3TKB.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-HSXLETPZ.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-OLWLIEH3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-5AJU3CG7.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-BOL2CCOG.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-EVLBUYTV.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-VRF373B3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/lenis.js?v=19851b3b
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/clsx.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/tailwind-merge.js?v=19851b3b
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/framer-motion.js?v=19851b3b
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-slot.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-label.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-7RUGVAIV.js?v=19851b3b
[REQ] GET /src/lib/seo.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-O42U6HQT.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-switch.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-IIGUYIAY.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-day-picker.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-separator.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-accordion.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-4BFJKWC4.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-dialog.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-select.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-avatar.js?v=19851b3b
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-orm_pg-core.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-WGQNECLP.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-tabs.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-popover.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-O2TAHQ3S.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-U7P2NEEE.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-orm.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-zod.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-4RO2SXZU.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-HPKT35ZE.js?v=19851b3b
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-43G6IMPT.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-GAH2UDO3.js?v=19851b3b
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-VKUWRSEE.js?v=19851b3b
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'T0qnL8zv_D_IR8jXMjthlmTksxYC7bZI',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:02:16 PM [express] GET /api/auth/user 200 in 44ms :: {"authenticated":false,"user":null,"userType"â€¦
[REQ] GET /api/auth/user
[REQ] GET /favicon.ico
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'r9vXtAz2lfnR_5uk2NXKLnqYLcEFMhsc',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:02:16 PM [express] GET /api/auth/user 200 in 27ms :: {"authenticated":false,"user":null,"userType"â€¦
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[REQ] GET /api/public/salon/stylistes
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[GET /api/public/salon/stylistes] Route appelÃ©e
[REQ] GET /favicon.ico
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/hours
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[GET /api/salons/:salonId/hours] 2025-11-20T16:02:18.388Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: salon-c152118c-478b-497b-98db-db37a4c58898
5:02:18 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services 304 in 174mâ€¦
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-test-1&stylistId=none
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'luyfxqVQNrPHZnDVEujfItD2mkERoosR',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:03:12 PM [express] GET /api/auth/user 304 in 3ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'zvcYdZ9ZSZxr9t5sb1WPUO--sYkdrfGh',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:03:25 PM [express] GET /api/auth/user 304 in 67ms :: {"authenticated":false,"user":null,"userType"â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'XMOaqcmpzuypIOwh1TUqCGg3YsxUrStY',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:03:26 PM [express] GET /api/auth/user 304 in 2ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: '8q2dEkqKgLFYYNtqG5JqhS92DvTDJ_d2',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:03:27 PM [express] GET /api/auth/user 304 in 7ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] POST /api/salon/login
ðŸ” Debug /api/salon/login - Attempting login for: veignatpierre@gmail.com â†’ veignatpierre@gmail.com
[SalonAuthService] Email normalisÃ© pour login: veignatpierre@gmail.com â†’ veignatpierre@gmail.com
[salon/login] salonId depuis result.salon: salon-c152118c-478b-497b-98db-db37a4c58898
[salon/login] âš ï¸ PrÃ©fixe "salon-" retirÃ©: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ c152118c-478b-497b-98db-db37a4c58898
[salon/login] âœ… SalonId attachÃ© Ã  la session: c152118c-478b-497b-98db-db37a4c58898
[salon/login] âœ… Session sauvegardÃ©e pour user: c152118c-478b-497b-98db-db37a4c58898
âœ… Debug /api/salon/login - Session created and saved: taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN
âœ… Debug /api/salon/login - User session: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  firstName: 'Pierre',
  lastName: 'Veignat',
  phone: '+41 79 133 82 40',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
5:03:33 PM [express] POST /api/salon/login 200 in 766ms :: {"success":true,"user":{"id":"c152118c-47â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:03:34 PM [express] GET /api/auth/user 200 in 110ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:03:34 PM [express] GET /api/auth/user 304 in 100ms :: {"authenticated":true,"userType":"owner","usâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
5:03:34 PM [express] GET /api/salon 304 in 191ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:03:34 PM [express] GET /api/auth/user 304 in 114ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T16:03:34.887Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/clients] Utilisateur: authentifiÃ©
[GET /api/clients] salonId depuis req.user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId final utilisÃ©: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] RÃ©cupÃ©ration du salon depuis la base de donnÃ©es...
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[DEBUG] ðŸ” Original URL: /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[GET /api/salons/:salonId/stylistes] salonId: c152118c-478b-497b-98db-db37a4c58898 â†’ normalized: c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] Affichage de tous les stylistes pour owner
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:03:34 PM [express] GET /api/auth/user 304 in 88ms :: {"authenticated":true,"userType":"owner","useâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
5:03:34 PM [express] GET /api/salon 304 in 97ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/clients] âœ… Salon ID rÃ©cupÃ©rÃ© depuis la DB pour user_id: c152118c-478b-497b-98db-db37a4c58898 â†’ salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] Salon ID final utilisÃ© pour la requÃªte: salon-c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] DonnÃ©es brutes reÃ§ues de Supabase: [
  {
    "id": "stylist-1762206054932-ioq2gnyww",
    "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "first_name": "Nathan",
    "last_name": "Rebetez",
    "email": "",
    "phone": "+0123456789",
    "photo_url": "",
    "specialties": [
      "Enfant",
      "Homme"
    ],
    "is_active": false,
    "created_at": "2025-11-03T21:40:54.932",
    "updated_at": "2025-11-13T20:49:30.398",
    "color": "#6f6f6f"
  }
]
[STYLISTES API] Retour de 3 styliste(s) pour salon c152118c-478b-497b-98db-db37a4c58898 (owner)
[STYLISTES API] Exemple de donnÃ©es mappÃ©es: {
  "id": "stylist-1762206054932-ioq2gnyww",
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "firstName": "Nathan",
  "lastName": "Rebetez",
  "name": "Nathan Rebetez",
  "email": "",
  "phone": "+0123456789",
  "photoUrl": "",
  "specialties": [
    "Enfant",
    "Homme"
  ],
  "isActive": false,
  "color": "#6f6f6f",
  "createdAt": "2025-11-03T21:40:54.932",
  "updatedAt": "2025-11-13T20:49:30.398"
}
5:03:35 PM [express] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes 304 in 181ms :: â€¦
[GET /api/clients] âœ… 5 clients trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Retour de 5 client(s)
5:03:35 PM [express] GET /api/clients 304 in 266ms :: [{"id":"client-1762772834221-jpn2kzuw1","salonâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 15 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T16:03:39.290Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:03:39 PM [express] GET /api/auth/user 304 in 166ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 6 rendez-vous trouvÃ©s
[REQ] POST /api/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[POST /api/appointments] Body reÃ§u: {
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "clientId": "client-1762772834221-jpn2kzuw1",
  "serviceId": "test-service-1",
  "stylistId": "stylist-1761504151845-kgglkv8h3",
  "startTime": "2025-11-21T13:30:00.000Z",
  "status": "confirmed",
  "notes": "",
  "duration": 30
}
[POST /api/appointments] clientId (body): client-1762772834221-jpn2kzuw1
[POST /api/appointments] âš ï¸ Aucune session client, utilisation du clientId du body
[POST /api/appointments] ðŸ” clientId final utilisÃ©: client-1762772834221-jpn2kzuw1
[POST /api/appointments] ðŸ” clientId type: string
[POST /api/appointments] ðŸ” clientId length: 30
[POST /api/appointments] ðŸ” Date/heure validÃ©e:
[POST /api/appointments] ðŸ”   startTime (body): 2025-11-21T13:30:00.000Z
[POST /api/appointments] ðŸ”   appointmentDate: 2025-11-21T13:30:00.000Z
[POST /api/appointments] ðŸ”   dayOfWeek: 5
[POST /api/appointments] âœ… Styliste trouvÃ© avec variant: stylist-1761504151845-kgglkv8h3 â†’ ID rÃ©el: stylist-1761504151845-kgglkv8h3
[POST /api/appointments] ðŸ” VÃ©rification des chevauchements...
[POST /api/appointments] ðŸ”   DÃ©but: 2025-11-21T13:30:00.000Z
[POST /api/appointments] ðŸ”   Fin: 2025-11-21T14:00:00.000Z
[POST /api/appointments] ðŸ”   DurÃ©e: 30 minutes
[POST /api/appointments] ðŸ”   Styliste: stylist-1761504151845-kgglkv8h3
[POST /api/appointments] ðŸ” Date/heure reÃ§ue (ISO): 2025-11-21T13:30:00.000Z
[POST /api/appointments] ðŸ” Date/heure parsÃ©e: 2025-11-21T13:30:00.000Z
[POST /api/appointments] ðŸ” Date/heure locale: Fri Nov 21 2025 14:30:00 GMT+0100 (Central European Standard Time)
[POST /api/appointments] ðŸ” VÃ©rification des horaires pour jour: 5 (vendredi)
[POST /api/appointments] ðŸ” salonIdForQuery utilisÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” body.salonId: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” previewSalon.id: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” Essai rÃ©cupÃ©ration horaires avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] âš ï¸ Erreur avec ID salon-c152118c-478b-497b-98db-db37a4c58898: Could not find the table 'public.opening_hours' in the schema cache
[POST /api/appointments] ðŸ” Essai rÃ©cupÃ©ration horaires avec ID: c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] âš ï¸ Erreur avec ID c152118c-478b-497b-98db-db37a4c58898: Could not find the table 'public.opening_hours' in the schema cache
[POST /api/appointments] ðŸ” Essai avec salon_hours...
[POST /api/appointments] âœ… Horaires trouvÃ©s dans salon_hours avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[POST /api/appointments] âŒ Erreur lors de la vÃ©rification des dates de fermeture avec ID salon-c152118c-478b-497b-98db-db37a4c58898 : {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[POST /api/appointments] âŒ Erreur lors de la vÃ©rification des dates de fermeture avec ID c152118c-478b-497b-98db-db37a4c58898 : {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[POST /api/appointments] â„¹ï¸ Aucun horaire styliste trouvÃ©, le styliste n'a pas d'horaires spÃ©cifiques. Utilisation des horaires salon uniquement
[POST /api/appointments] ðŸ” Horaires styliste finaux: []
[POST /api/appointments] ðŸ” Calcul des intervalles valides:
[POST /api/appointments] ðŸ”   Horaires salon: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[POST /api/appointments] ðŸ”   Horaires styliste: []
[POST /api/appointments] ðŸ”   Jour de la semaine: 5
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: []
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: []
[getValidIntervalsForDay] â„¹ï¸ Aucun horaire styliste spÃ©cifique, utilisation des horaires salon uniquement
[getValidIntervalsForDay]   Intervalle salon: 08:30-12:00
[getValidIntervalsForDay]   Intervalle salon: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (salon uniquement): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[POST /api/appointments] ðŸ” Intervalles valides calculÃ©s: [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[POST /api/appointments] â„¹ï¸ Le styliste n'a pas d'horaires spÃ©cifiques. Utilisation des horaires salon uniquement.
[POST /api/appointments] ðŸ” Validation du crÃ©neau:
[POST /api/appointments] ðŸ”   DÃ©but: 14:30
[POST /api/appointments] ðŸ”   Fin: 15:00
[POST /api/appointments] ðŸ”   DurÃ©e: 30 min
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:00 (900 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[POST /api/appointments] âœ… Le crÃ©neau est valide
[POST /api/appointments] âœ… Aucun chevauchement dÃ©tectÃ©, crÃ©ation du rendez-vous...
[POST /api/appointments] ðŸ” DonnÃ©es finales avant crÃ©ation:
[POST /api/appointments] ðŸ”   finalStylistId: stylist-1761504151845-kgglkv8h3
[POST /api/appointments] ðŸ”   finalClientId: client-1762772834221-jpn2kzuw1
[POST /api/appointments] ðŸ”   serviceId: test-service-1
[POST /api/appointments] ðŸ”   appointmentDate: 2025-11-21T13:30:00.000Z
[POST /api/appointments] DonnÃ©es du rendez-vous: {
  "id": "appointment-1763654658951-7bvmzxlgr",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762772834221-jpn2kzuw1",
  "stylist_id": "stylist-1761504151845-kgglkv8h3",
  "service_id": "test-service-1",
  "appointment_date": "2025-11-21T13:30:00.000Z",
  "duration": 30,
  "status": "confirmed",
  "notes": null
}
[POST /api/appointments] client_id dans appointmentData: client-1762772834221-jpn2kzuw1
[POST /api/appointments] client_id type: string
[POST /api/appointments] ðŸ” Tentative d'insertion dans Supabase...
[POST /api/appointments] ðŸ”   appointmentData complet: {
  "id": "appointment-1763654658951-7bvmzxlgr",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762772834221-jpn2kzuw1",
  "stylist_id": "stylist-1761504151845-kgglkv8h3",
  "service_id": "test-service-1",
  "appointment_date": "2025-11-21T13:30:00.000Z",
  "duration": 30,
  "status": "confirmed",
  "notes": null
}
[POST /api/appointments] Rendez-vous crÃ©Ã© avec succÃ¨s: {
  "id": "appointment-1763654658951-7bvmzxlgr",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762772834221-jpn2kzuw1",
  "stylist_id": "stylist-1761504151845-kgglkv8h3",
  "service_id": "test-service-1",
  "appointment_date": "2025-11-21T13:30:00+00:00",
  "duration": 30,
  "status": "confirmed",
  "notes": null,
  "created_at": "2025-11-20T16:04:19.02688+00:00",
  "updated_at": "2025-11-20T16:04:19.02688+00:00"
}
[POST /api/appointments] âœ… client_id dans le rendez-vous crÃ©Ã©: client-1762772834221-jpn2kzuw1
[POST /api/appointments] âœ… client_id type: string
[POST /api/appointments] ðŸ” VÃ©rification immÃ©diate - Rendez-vous trouvÃ©: OUI
[POST /api/appointments] ðŸ” client_id dans la vÃ©rification: client-1762772834221-jpn2kzuw1
[POST /api/appointments] ðŸ” client_id correspond: true
[POST /api/appointments] ðŸ” Total rendez-vous pour ce client: 5
[POST /api/appointments] ðŸ” Derniers rendez-vous du client: [
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763654658951-7bvmzxlgr",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T13:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  }
]
[POST /api/appointments] ðŸ” Rendez-vous crÃ©Ã© trouvÃ© dans la liste: OUI
[POST /api/appointments] âœ… Rendez-vous crÃ©Ã©: appointment-1763654658951-7bvmzxlgr
[POST /api/appointments] ðŸ“§ Envoi des notifications de confirmation...
[Notifications] [MOCK EMAIL] Envoi Ã  colette@gmail.com : Votre rendez-vous est confirmÃ© - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[Notifications] [MOCK SMS] Envoi Ã  079 2222222 : Votre rendez-vous chez les cheveux au vent est confirmÃ© le vendredi 21 novembre 2025 Ã  14:30 avec Julie Moulin. Service: Service ModifiÃ©.
[POST /api/appointments] âœ… Notifications envoyÃ©es avec succÃ¨s
5:04:19 PM [express] POST /api/appointments 200 in 1977ms :: {"id":"appointment-1763654658951-7bvmzxâ€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T16:04:19.501Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 7 rendez-vous trouvÃ©s
[REQ] DELETE /api/appointments/appointment-1763654658951-7bvmzxlgr
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DELETE /api/appointments/:id] Suppression du rendez-vous: appointment-1763654658951-7bvmzxlgr
[DELETE /api/appointments/:id] âœ… Rendez-vous supprimÃ© avec succÃ¨s: appointment-1763654658951-7bvmzxlgr
[DELETE /api/appointments/:id] ðŸ“§ Envoi de la notification d'annulation...
[Notifications] [MOCK EMAIL] Envoi Ã  colette@gmail.com : Annulation de votre rendez-vous - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[DELETE /api/appointments/:id] âœ… Notification envoyÃ©e avec succÃ¨s
5:04:25 PM [express] DELETE /api/appointments/appointment-1763654658951-7bvmzxlgr 200 in 584ms :: {"â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T16:04:25.911Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 6 rendez-vous trouvÃ©s
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:12:45 PM [express] GET /api/auth/user 304 in 868ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:13:15 PM [express] GET /api/auth/user 304 in 317ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:23:54 PM [express] GET /api/auth/user 304 in 865ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:27:42 PM [express] GET /api/auth/user 304 in 325ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:32:47 PM [express] GET /api/auth/user 304 in 339ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:39:21 PM [express] GET /api/auth/user 304 in 477ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:43:33 PM [express] GET /api/auth/user 304 in 340ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-10-31T23:00:00.000Z&endDate=2025-11-30T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T16:43:35.810Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 15 rendez-vous trouvÃ©s
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T16:43:50.491Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:43:51 PM [express] GET /api/salon 304 in 704ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
5:43:51 PM [express] GET /api/auth/user 304 in 701ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 15 rendez-vous trouvÃ©s
[REQ] GET /api/public/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:43:52 PM [express] GET /api/auth/user 304 in 203ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /api/public/salon/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon/stylistes] Route appelÃ©e
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[REQ] GET /api/public/salon/availability?date=2025-11-20&serviceId=service-1762205748636-sfpwr6qnd&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 4
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 4,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 4: [
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 4: [
  {
    day_of_week: 4,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 4
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 4,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 4,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 4: [
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 4: [
  {
    day_of_week: 4,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 4,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-1762205748636-sfpwr6qnd&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:10 (550 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (550) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:40 (580 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (580) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:10 (610 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (610) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:40 (640 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (640) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:10 (670 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (670) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:40 (700 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (700) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:10 (550 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (550) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:40 (580 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (580) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:10 (610 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (610) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:40 (640 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (640) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:10 (670 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (670) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:40 (700 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (700) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:40 (820 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (820) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h40min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (820) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:10 (850 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (850) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h10min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (850) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:40 (880 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (880) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h40min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (880) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:10 (910 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (910) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h10min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (910) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:40 (940 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (940) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h40min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (940) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:10 (970 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (970) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h10min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (970) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:40 (1000 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1000) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h40min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1000) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:10 (1030 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1030) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h10min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1030) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:40 (1060 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1060) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h40min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1060) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:10 (1090 min)
[isSlotValid] DurÃ©e du rendez-vous: 40 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1090) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h10min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1090) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:44:14 PM [express] GET /api/auth/user 304 in 177ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
5:44:15 PM [express] GET /api/salon 304 in 141ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:44:15 PM [express] GET /api/auth/user 304 in 209ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:44:18 PM [express] GET /api/auth/user 304 in 92ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:44:25 PM [express] GET /api/auth/user 304 in 199ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'taJ3mN5wVeU4zGaS_DCRx6yLx_7z3moN',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
5:44:45 PM [express] GET /api/auth/user 304 in 341ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] POST /api/logout
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
5:44:46 PM [express] POST /api/logout 200 in 1ms :: {"success":true}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'oEULM4RYVl8VoMdfvXsqXXsH8q8kjitj',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:44:46 PM [express] GET /api/auth/user 200 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /favicon.ico
[REQ] POST /api/client/login
[client/login] Email normalisÃ©: colette@gmail.com â†’ colette@gmail.com
[clientAuth] âœ… Session sauvegardÃ©e pour client: client-1762772834221-jpn2kzuw1
[clientAuth] Session aprÃ¨s save: {
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasClient: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:44:55 PM [express] GET /api/auth/user 200 in 131ms :: {"authenticated":true,"userType":"client","uâ€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:44:56 PM [express] GET /api/auth/user 304 in 108ms :: {"authenticated":true,"userType":"client","uâ€¦
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 5
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 15
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 5
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 5 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 5
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 5
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 5
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[REQ] GET /favicon.ico
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 5
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 15
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 5
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 5 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 5
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 5
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 5
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 5
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 15
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 5
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 5 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 5
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 5
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 5
[REQ] GET /api/public/salon/closed-dates
[REQ] GET /api/public/salon/stylist-hours
[REQ] GET /favicon.ico
[GET /api/public/salon/closed-dates] Erreur Supabase: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-test-1&stylistId=none
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:55:31 PM [express] GET /api/auth/user 304 in 782ms :: {"authenticated":true,"userType":"client","uâ€¦
[REQ] GET /api/salon
5:55:31 PM [express] GET /api/salon 401 in 0ms :: {"message":"Non authentifiÃ©"}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:55:31 PM [express] GET /api/auth/user 304 in 107ms :: {"authenticated":true,"userType":"client","uâ€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:55:36 PM [express] GET /api/auth/user 304 in 176ms :: {"authenticated":true,"userType":"client","uâ€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:55:45 PM [express] GET /api/auth/user 304 in 162ms :: {"authenticated":true,"userType":"client","uâ€¦
[REQ] POST /api/appointments
[POST /api/appointments] Body reÃ§u: {
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "clientId": "client-1762772834221-jpn2kzuw1",
  "stylistId": "none",
  "serviceId": "service-test-1",
  "startTime": "2025-11-21T12:30:00.000Z",
  "endTime": "2025-11-21T13:15:00.000Z",
  "totalAmount": 50,
  "status": "confirmed",
  "channel": "form",
  "notes": "",
  "stylistPreference": "none"
}
[POST /api/appointments] clientId (body): client-1762772834221-jpn2kzuw1
[POST /api/appointments] âœ… Session client dÃ©tectÃ©e, utilisation du clientId de la session
[POST /api/appointments] ðŸ” clientId final utilisÃ©: client-1762772834221-jpn2kzuw1
[POST /api/appointments] ðŸ” clientId type: string
[POST /api/appointments] ðŸ” clientId length: 30
[POST /api/appointments] ðŸ” Date/heure validÃ©e:
[POST /api/appointments] ðŸ”   startTime (body): 2025-11-21T12:30:00.000Z
[POST /api/appointments] ðŸ”   appointmentDate: 2025-11-21T12:30:00.000Z
[POST /api/appointments] ðŸ”   dayOfWeek: 5
[POST /api/appointments] ðŸ” VÃ©rification des chevauchements...
[POST /api/appointments] ðŸ”   DÃ©but: 2025-11-21T12:30:00.000Z
[POST /api/appointments] ðŸ”   Fin: 2025-11-21T13:15:00.000Z
[POST /api/appointments] ðŸ”   DurÃ©e: 45 minutes
[POST /api/appointments] ðŸ”   Styliste: 
[POST /api/appointments] ðŸ” Date/heure reÃ§ue (ISO): 2025-11-21T12:30:00.000Z
[POST /api/appointments] ðŸ” Date/heure parsÃ©e: 2025-11-21T12:30:00.000Z
[POST /api/appointments] ðŸ” Date/heure locale: Fri Nov 21 2025 13:30:00 GMT+0100 (Central European Standard Time)
[POST /api/appointments] ðŸ” VÃ©rification des horaires pour jour: 5 (vendredi)
[POST /api/appointments] ðŸ” salonIdForQuery utilisÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” body.salonId: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” previewSalon.id: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” Essai rÃ©cupÃ©ration horaires avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] âš ï¸ Erreur avec ID salon-c152118c-478b-497b-98db-db37a4c58898: Could not find the table 'public.opening_hours' in the schema cache
[POST /api/appointments] ðŸ” Essai rÃ©cupÃ©ration horaires avec ID: c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] âš ï¸ Erreur avec ID c152118c-478b-497b-98db-db37a4c58898: Could not find the table 'public.opening_hours' in the schema cache
[POST /api/appointments] ðŸ” Essai avec salon_hours...
[POST /api/appointments] âœ… Horaires trouvÃ©s dans salon_hours avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[findAvailableStylistForSlot] ðŸ” RÃ©cupÃ©ration horaires avec 4 variants d'ID: [
  'stylist-1761504151845-kgglkv8h3',
  '1761504151845-kgglkv8h3',
  'stylist-1761567120719-0f2lq2164',
  '1761567120719-0f2lq2164'
]
[findAvailableStylistForSlot] ðŸ” 3 horaires trouvÃ©s pour ce jour
[findAvailableStylistForSlot] ðŸ” pierre veignat: 2 horaire(s) trouvÃ©(s) [ '08:30:00-12:00:00', '13:00:00-18:30:00' ]
[findAvailableStylistForSlot] ðŸ” Julie Moulin: 1 horaire(s) trouvÃ©(s) [ '08:30:00-12:00:00' ]
[findAvailableStylistForSlot] ðŸ” RÃ©cupÃ©ration des rendez-vous avec 4 variants d'ID: [
  'stylist-1761504151845-kgglkv8h3',
  '1761504151845-kgglkv8h3',
  'stylist-1761567120719-0f2lq2164',
  '1761567120719-0f2lq2164'
]
[findAvailableStylistForSlot] ðŸ” 4 rendez-vous trouvÃ©s pour ce jour
[findAvailableStylistForSlot] ðŸ” Styliste 1761567120719-0f2lq2164: 3 rendez-vous existants
[findAvailableStylistForSlot] ðŸ” Styliste 1761504151845-kgglkv8h3: 1 rendez-vous existants
[findAvailableStylistForSlot] ðŸ” VÃ©rification styliste: Julie Moulin (1761504151845-kgglkv8h3)
[findAvailableStylistForSlot] ðŸ”   Horaires styliste rÃ©cupÃ©rÃ©s: [
  {
    stylist_id: 'stylist-1761504151845-kgglkv8h3',
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    stylist_id: 'stylist-1761504151845-kgglkv8h3',
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    stylist_id: 'stylist-1761504151845-kgglkv8h3',
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[findAvailableStylistForSlot] ðŸ”   Intervalles valides calculÃ©s: [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid] âŒ CrÃ©neau invalide
[findAvailableStylistForSlot] ðŸ”   CrÃ©neau valide pour Julie Moulin? false
[findAvailableStylistForSlot] ðŸ”   CrÃ©neau demandÃ©: 2025-11-21T12:30:00.000Z (durÃ©e: 45 min)
[findAvailableStylistForSlot] âŒ Julie Moulin: CrÃ©neau invalide (hors horaires), styliste exclu
[findAvailableStylistForSlot] ðŸ” VÃ©rification styliste: pierre veignat (1761567120719-0f2lq2164)
[findAvailableStylistForSlot] ðŸ”   Horaires styliste rÃ©cupÃ©rÃ©s: [
  {
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[findAvailableStylistForSlot] ðŸ”   Intervalles valides calculÃ©s: [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[findAvailableStylistForSlot] ðŸ”   CrÃ©neau valide pour pierre veignat? true
[findAvailableStylistForSlot] ðŸ”   CrÃ©neau demandÃ©: 2025-11-21T12:30:00.000Z (durÃ©e: 45 min)
[findAvailableStylistForSlot] ðŸ” VÃ©rification conflit pour 1761567120719-0f2lq2164:
[findAvailableStylistForSlot] ðŸ”   CrÃ©neau demandÃ©: 2025-11-21T12:30:00.000Z - 2025-11-21T13:15:00.000Z
[findAvailableStylistForSlot] ðŸ”   3 rendez-vous existants pour ce styliste
[findAvailableStylistForSlot] âœ… Aucun conflit pour 1761567120719-0f2lq2164
[findAvailableStylistForSlot] âœ… pierre veignat: Styliste disponible pour ce crÃ©neau
[findAvailableStylistForSlot] âœ…   Heure de dÃ©but la plus tÃ´t: 8:30
[findAvailableStylistForSlot] ðŸ“‹ Stylistes disponibles triÃ©s:
[findAvailableStylistForSlot]   1. pierre veignat (dÃ©but: 8:30)
[findAvailableStylistForSlot] âœ… Styliste sÃ©lectionnÃ©: pierre veignat (ID: stylist-1761567120719-0f2lq2164)
[POST /api/appointments] âœ… Styliste sÃ©lectionnÃ© automatiquement pour ce crÃ©neau: pierre veignat (stylist-1761567120719-0f2lq2164)
[POST /api/appointments] âŒ Erreur lors de la vÃ©rification des dates de fermeture avec ID salon-c152118c-478b-497b-98db-db37a4c58898 : {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[POST /api/appointments] âŒ Erreur lors de la vÃ©rification des dates de fermeture avec ID c152118c-478b-497b-98db-db37a4c58898 : {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[POST /api/appointments] â„¹ï¸ Aucun horaire styliste trouvÃ©, le styliste n'a pas d'horaires spÃ©cifiques. Utilisation des horaires salon uniquement
[POST /api/appointments] ðŸ” Horaires styliste finaux: []
[POST /api/appointments] ðŸ” Calcul des intervalles valides:
[POST /api/appointments] ðŸ”   Horaires salon: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[POST /api/appointments] ðŸ”   Horaires styliste: []
[POST /api/appointments] ðŸ”   Jour de la semaine: 5
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: []
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: []
[getValidIntervalsForDay] â„¹ï¸ Aucun horaire styliste spÃ©cifique, utilisation des horaires salon uniquement
[getValidIntervalsForDay]   Intervalle salon: 08:30-12:00
[getValidIntervalsForDay]   Intervalle salon: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (salon uniquement): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[POST /api/appointments] ðŸ” Intervalles valides calculÃ©s: [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[POST /api/appointments] â„¹ï¸ Le styliste n'a pas d'horaires spÃ©cifiques. Utilisation des horaires salon uniquement.
[POST /api/appointments] ðŸ” Validation du crÃ©neau:
[POST /api/appointments] ðŸ”   DÃ©but: 13:30
[POST /api/appointments] ðŸ”   Fin: 14:15
[POST /api/appointments] ðŸ”   DurÃ©e: 45 min
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[POST /api/appointments] âœ… Le crÃ©neau est valide
[POST /api/appointments] âœ… Aucun chevauchement dÃ©tectÃ©, crÃ©ation du rendez-vous...
[POST /api/appointments] ðŸ” DonnÃ©es finales avant crÃ©ation:
[POST /api/appointments] ðŸ”   finalStylistId: stylist-1761567120719-0f2lq2164
[POST /api/appointments] ðŸ”   finalClientId: client-1762772834221-jpn2kzuw1
[POST /api/appointments] ðŸ”   serviceId: service-test-1
[POST /api/appointments] ðŸ”   appointmentDate: 2025-11-21T12:30:00.000Z
[POST /api/appointments] DonnÃ©es du rendez-vous: {
  "id": "appointment-1763657754961-shurt6md7",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762772834221-jpn2kzuw1",
  "stylist_id": "stylist-1761567120719-0f2lq2164",
  "service_id": "service-test-1",
  "appointment_date": "2025-11-21T12:30:00.000Z",
  "duration": 45,
  "status": "confirmed",
  "notes": null
}
[POST /api/appointments] client_id dans appointmentData: client-1762772834221-jpn2kzuw1
[POST /api/appointments] client_id type: string
[POST /api/appointments] ðŸ” Tentative d'insertion dans Supabase...
[POST /api/appointments] ðŸ”   appointmentData complet: {
  "id": "appointment-1763657754961-shurt6md7",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762772834221-jpn2kzuw1",
  "stylist_id": "stylist-1761567120719-0f2lq2164",
  "service_id": "service-test-1",
  "appointment_date": "2025-11-21T12:30:00.000Z",
  "duration": 45,
  "status": "confirmed",
  "notes": null
}
[POST /api/appointments] Rendez-vous crÃ©Ã© avec succÃ¨s: {
  "id": "appointment-1763657754961-shurt6md7",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762772834221-jpn2kzuw1",
  "stylist_id": "stylist-1761567120719-0f2lq2164",
  "service_id": "service-test-1",
  "appointment_date": "2025-11-21T12:30:00+00:00",
  "duration": 45,
  "status": "confirmed",
  "notes": null,
  "created_at": "2025-11-20T16:55:55.038663+00:00",
  "updated_at": "2025-11-20T16:55:55.038663+00:00"
}
[POST /api/appointments] âœ… client_id dans le rendez-vous crÃ©Ã©: client-1762772834221-jpn2kzuw1
[POST /api/appointments] âœ… client_id type: string
[POST /api/appointments] ðŸ” VÃ©rification immÃ©diate - Rendez-vous trouvÃ©: OUI
[POST /api/appointments] ðŸ” client_id dans la vÃ©rification: client-1762772834221-jpn2kzuw1
[POST /api/appointments] ðŸ” client_id correspond: true
[POST /api/appointments] ðŸ” Total rendez-vous pour ce client: 5
[POST /api/appointments] ðŸ” Derniers rendez-vous du client: [
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  }
]
[POST /api/appointments] ðŸ” Rendez-vous crÃ©Ã© trouvÃ© dans la liste: OUI
[POST /api/appointments] âœ… Rendez-vous crÃ©Ã©: appointment-1763657754961-shurt6md7
[POST /api/appointments] ðŸ“§ Envoi des notifications de confirmation...
[Notifications] [MOCK EMAIL] Envoi Ã  colette@gmail.com : Votre rendez-vous est confirmÃ© - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[Notifications] [MOCK SMS] Envoi Ã  079 2222222 : Votre rendez-vous chez les cheveux au vent est confirmÃ© le vendredi 21 novembre 2025 Ã  13:30 avec pierre veignat. Service: Coupe ModifiÃ©e.
[POST /api/appointments] âœ… Notifications envoyÃ©es avec succÃ¨s
5:55:55 PM [express] POST /api/appointments 200 in 2011ms :: {"id":"appointment-1763657754961-shurt6â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 6
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 6
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 6 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 6
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763657754961-shurt6md7
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763657754961-shurt6md7 - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "startTime": "2025-11-21T12:30:00+00:00",
    "endTime": "2025-11-21T13:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 6
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 6
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 6
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 6
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 6 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 6
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763657754961-shurt6md7
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763657754961-shurt6md7 - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "startTime": "2025-11-21T12:30:00+00:00",
    "endTime": "2025-11-21T13:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 6
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 6
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 6
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 6
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 6 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 6
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763657754961-shurt6md7
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763657754961-shurt6md7 - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "startTime": "2025-11-21T12:30:00+00:00",
    "endTime": "2025-11-21T13:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 6
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 6
[REQ] GET /
[REQ] GET /client-appointments
[REQ] GET /src/main.tsx?v=Q9imBZsf-eG2MzzEkhkgD
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=Q9imBZsf-eG2MzzEkhkgD
[REQ] GET /src/index.css?v=Q9imBZsf-eG2MzzEkhkgD
[REQ] GET /src/lib/theme.ts?v=Q9imBZsf-eG2MzzEkhkgD
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:56:24 PM [express] GET /api/auth/user 304 in 207ms :: {"authenticated":true,"userType":"client","uâ€¦
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 6
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[REQ] GET /favicon.ico
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 6
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:56:24 PM [express] GET /api/auth/user 304 in 74ms :: {"authenticated":true,"userType":"client","usâ€¦
[REQ] GET /api/salon
[REQ] GET /api/auth/user
5:56:24 PM [express] GET /api/salon 401 in 1ms :: {"message":"Non authentifiÃ©"}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
5:56:24 PM [express] GET /api/auth/user 304 in 79ms :: {"authenticated":true,"userType":"client","usâ€¦
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 6 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 6
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763657754961-shurt6md7
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763657754961-shurt6md7 - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "startTime": "2025-11-21T12:30:00+00:00",
    "endTime": "2025-11-21T13:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 6
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 6
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762772834221-jpn2kzuw1',
  'session.clientId': 'client-1762772834221-jpn2kzuw1',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: colette@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762772834221-jpn2kzuw1",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "colette",
  "last_name": "Girard",
  "email": "colette@gmail.com",
  "phone": "079 2222222",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": null,
  "created_at": "2025-11-10T11:07:14.221+00:00",
  "updated_at": "2025-11-10T11:08:46.709+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762772834221-jpn2kzuw1
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 6
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 6
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-13T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-11T08:25:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-12T10:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T15:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "client_id": "client-1762772834221-jpn2kzuw1",
    "appointment_date": "2025-11-21T12:30:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 6 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762984588807-i84jlyhyk : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762866399639-781jsp1y1 : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762809617074-6nrv2rr2g : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Service ModifiÃ©
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762776110596-5jprb0lbv : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763596027783-ywdjrd6by : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : Coupe ModifiÃ©e
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763657754961-shurt6md7 : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 6
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   service_id: test-service-1
[GET /api/client/appointments] ðŸ”   services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: test-service-1
[GET /api/client/appointments] ðŸ”   services.name: Service ModifiÃ©
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761504151845-kgglkv8h3
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761504151845-kgglkv8h3","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"Julie","last_name":"Moulin","email":"test@example.com","phone":"+33 6 12 34 56 78","photo_url":"","specialties":["Femme"],"is_active":true,"created_at":"2025-10-26T18:42:31.845","updated_at":"2025-11-13T11:30:28.507","color":"#f59e0b"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762776110596-5jprb0lbv
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762776110596-5jprb0lbv - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762809617074-6nrv2rr2g
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762809617074-6nrv2rr2g - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762866399639-781jsp1y1
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762866399639-781jsp1y1 - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762984588807-i84jlyhyk
[GET /api/client/appointments] ðŸ”   appointment.service_id: test-service-1
[GET /api/client/appointments] ðŸ”   hasValidService: test-service-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"test-service-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Service ModifiÃ©","description":"Service de test","price":35,"duration":30,"tags":["Enfant"],"created_at":"2025-10-27T11:58:32.059575+00:00","updated_at":"2025-10-27T12:19:03.465+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Service ModifiÃ©
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762984588807-i84jlyhyk - Service ModifiÃ© - Prix: 35
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763657754961-shurt6md7
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763657754961-shurt6md7 - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763596027783-ywdjrd6by
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-test-1
[GET /api/client/appointments] ðŸ”   hasValidService: service-test-1
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-test-1","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"Coupe ModifiÃ©e","description":"Coupe de cheveux pour homme modifiÃ©e","price":50,"duration":45,"tags":["Homme"],"created_at":"2025-10-26T21:08:19.344109+00:00","updated_at":"2025-10-27T14:23:22.292+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: Coupe ModifiÃ©e
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763596027783-ywdjrd6by - Coupe ModifiÃ©e - Prix: 50
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762776110596-5jprb0lbv",
    "startTime": "2025-11-11T08:25:00+00:00",
    "endTime": "2025-11-11T08:55:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762809617074-6nrv2rr2g",
    "startTime": "2025-11-12T10:00:00+00:00",
    "endTime": "2025-11-12T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762866399639-781jsp1y1",
    "startTime": "2025-11-13T08:00:00+00:00",
    "endTime": "2025-11-13T10:00:00.000Z",
    "status": "confirmed",
    "notes": "Test final modification",
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1762984588807-i84jlyhyk",
    "startTime": "2025-11-13T10:00:00+00:00",
    "endTime": "2025-11-13T10:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "test-service-1",
      "name": "Service ModifiÃ©",
      "price": 35,
      "duration": 30
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763657754961-shurt6md7",
    "startTime": "2025-11-21T12:30:00+00:00",
    "endTime": "2025-11-21T13:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1763596027783-ywdjrd6by",
    "startTime": "2025-11-21T15:30:00+00:00",
    "endTime": "2025-11-21T16:15:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-test-1",
      "name": "Coupe ModifiÃ©e",
      "price": 50,
      "duration": 45
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 6
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 6
[REQ] GET /
[REQ] GET /client-appointments
[REQ] GET /@vite/client
[REQ] GET /src/main.tsx?v=uaqQ610lq6wS0xZa3FTL1
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=uaqQ610lq6wS0xZa3FTL1
[REQ] GET /src/index.css?v=uaqQ610lq6wS0xZa3FTL1
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/theme.ts?v=uaqQ610lq6wS0xZa3FTL1
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762772834221-jpn2kzuw1'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762772834221-jpn2kzuw1
[isClientAuthenticated] Client non trouvÃ© en base: {
  clientId: 'client-1762772834221-jpn2kzuw1',
  error: 'TypeError: fetch failed'
}
[GET /api/auth/user] Client non trouvÃ© en base: client-1762772834221-jpn2kzuw1 {
  message: 'TypeError: fetch failed',
  details: 'TypeError: fetch failed\n' +
    '    at node:internal/deps/undici/undici:13510:13\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async <anonymous> (/Users/pierre/Downloads/App/V1/Transfert vers cursor/SalonPilot/server/index.ts:1052:39)',
  hint: '',
  code: ''
}
5:56:48 PM [express] GET /api/auth/user 200 in 25ms :: {"authenticated":false,"user":null,"userType"â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
5:56:48 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: false,
  clientId: undefined
}
[isClientAuthenticated] âŒ Session client invalide: {
  hasClientSession: false,
  clientId: undefined,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  cookies: 'prÃ©sents'
}
[REQ] GET /
[REQ] GET /client-appointments
[REQ] GET /src/main.tsx?v=eudmHmvowjx2QwIuDwHo6
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=eudmHmvowjx2QwIuDwHo6
[REQ] GET /src/index.css?v=eudmHmvowjx2QwIuDwHo6
[REQ] GET /src/lib/theme.ts?v=eudmHmvowjx2QwIuDwHo6
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: false,
  clientId: undefined
}
[isClientAuthenticated] âŒ Session client invalide: {
  hasClientSession: false,
  clientId: undefined,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  cookies: 'prÃ©sents'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:00:23 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:00:23 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: false,
  clientId: undefined
}
[isClientAuthenticated] âŒ Session client invalide: {
  hasClientSession: false,
  clientId: undefined,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  cookies: 'prÃ©sents'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:34:55 PM [express] GET /api/auth/user 304 in 4ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:34:58 PM [express] GET /api/auth/user 304 in 10ms :: {"authenticated":false,"user":null,"userType"â€¦
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: false,
  clientId: undefined
}
[isClientAuthenticated] âŒ Session client invalide: {
  hasClientSession: false,
  clientId: undefined,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  cookies: 'prÃ©sents'
}
[REQ] GET /
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: false,
  clientId: undefined
}
[isClientAuthenticated] âŒ Session client invalide: {
  hasClientSession: false,
  clientId: undefined,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  cookies: 'prÃ©sents'
}
[REQ] GET /@vite/client
[REQ] GET /src/main.tsx?v=0seAkXJmbIpzXSkbbcMs5
[REQ] GET /src/App.tsx?v=0seAkXJmbIpzXSkbbcMs5
[REQ] GET /src/index.css?v=0seAkXJmbIpzXSkbbcMs5
[REQ] GET /src/lib/theme.ts?v=0seAkXJmbIpzXSkbbcMs5
[REQ] GET /@react-refresh
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:35:02 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:35:02 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /favicon.ico
[REQ] POST /api/voice-agent
[voice-agent] ðŸ” VÃ©rification OpenAI - hasOpenAI: true OPENAI_API_KEY: prÃ©sente (sk-proj-El...)
[voice-agent] âœ… FORCE utilisation d'OpenAI pour gÃ©nÃ©rer une rÃ©ponse conversationnelle
[voice-agent] Envoi requÃªte OpenAI avec 2 messages
[voice-agent] âœ… RÃ©ponse OpenAI gÃ©nÃ©rÃ©e: Nous sommes ouverts aux horaires suivants : 

- Mardi : 08:30 - 12:00 et 13:00 - 18:30
- Mercredi : 
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:35:49 PM [express] GET /api/auth/user 304 in 2ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[REQ] GET /api/public/salon/stylistes
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/hours
[GET /api/public/salon/stylistes] Route appelÃ©e
[GET /api/salons/:salonId/hours] 2025-11-20T17:35:56.488Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[REQ] GET /favicon.ico
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: salon-c152118c-478b-497b-98db-db37a4c58898
6:35:56 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services 304 in 214mâ€¦
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[REQ] GET /api/public/salon/availability?date=2025-11-22&serviceId=test-service-1&stylistId=none
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 6
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 6,
    start_time: null,
    end_time: null,
    is_available: false
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 6: [
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 6: []
[getValidIntervalsForDay] â„¹ï¸ Aucun horaire styliste spÃ©cifique, utilisation des horaires salon uniquement
[getValidIntervalsForDay]   Intervalle salon: 09:00-12:00
[getValidIntervalsForDay] âœ… Intervalles finaux (salon uniquement): [ { start: '09:00', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:30 (570 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (570) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:00 (600 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (600) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:30 (690 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (690) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 6
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 6,
    start_time: '09:00:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 6: [
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 6: [
  {
    day_of_week: 6,
    start_time: '09:00:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 09:00-12:00 Ã— styliste 09:00-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 09:00-12:00
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '09:00', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:30 (570 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (570) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:00 (600 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (600) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:30 (690 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '09:00-12:00' ]
[isSlotValid]   VÃ©rification intervalle 09:00-12:00 (540-720 min)
[isSlotValid]     DÃ©but RDV (690) >= DÃ©but intervalle (540) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 09:00-12:00
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:36:13 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] POST /api/client/login
[client/login] Email normalisÃ©: Kassy@gmail.com â†’ kassy@gmail.com
[clientAuth] âœ… Session sauvegardÃ©e pour client: client-1762723434708-o4kbf167s
[clientAuth] Session aprÃ¨s save: {
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasClient: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762723434708-o4kbf167s
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
6:36:21 PM [express] GET /api/auth/user 200 in 185ms :: {"authenticated":true,"userType":"client","uâ€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762723434708-o4kbf167s
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
6:36:21 PM [express] GET /api/auth/user 304 in 118ms :: {"authenticated":true,"userType":"client","uâ€¦
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /favicon.ico
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /favicon.ico
[REQ] GET /api/client/notifications
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/notifications',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /api/client/notification-settings
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/notification-settings',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/client/notifications] Erreur: {
  code: 'PGRST205',
  details: null,
  hint: "Perhaps you meant the table 'public.clients'",
  message: "Could not find the table 'public.client_notifications' in the schema cache"
}
[REQ] GET /api/client/notification-settings
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/notification-settings',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /favicon.ico
[REQ] GET /api/client/privacy-settings
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/privacy-settings',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /favicon.ico
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /api/public/salon/closed-dates
[REQ] GET /api/public/salon/stylist-hours
[REQ] GET /favicon.ico
[GET /api/public/salon/closed-dates] Erreur Supabase: {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-1762205819873-b8cer0w2t&stylistId=stylist-1761504151845-kgglkv8h3
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[REQ] POST /api/appointments
[POST /api/appointments] Body reÃ§u: {
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "clientId": "client-1762723434708-o4kbf167s",
  "stylistId": "stylist-1761504151845-kgglkv8h3",
  "serviceId": "service-1762205819873-b8cer0w2t",
  "startTime": "2025-11-21T08:00:00.000Z",
  "endTime": "2025-11-21T10:00:00.000Z",
  "totalAmount": 120,
  "status": "confirmed",
  "channel": "form",
  "notes": "",
  "stylistPreference": "specific"
}
[POST /api/appointments] clientId (body): client-1762723434708-o4kbf167s
[POST /api/appointments] âœ… Session client dÃ©tectÃ©e, utilisation du clientId de la session
[POST /api/appointments] ðŸ” clientId final utilisÃ©: client-1762723434708-o4kbf167s
[POST /api/appointments] ðŸ” clientId type: string
[POST /api/appointments] ðŸ” clientId length: 30
[POST /api/appointments] ðŸ” Date/heure validÃ©e:
[POST /api/appointments] ðŸ”   startTime (body): 2025-11-21T08:00:00.000Z
[POST /api/appointments] ðŸ”   appointmentDate: 2025-11-21T08:00:00.000Z
[POST /api/appointments] ðŸ”   dayOfWeek: 5
[POST /api/appointments] âœ… Styliste trouvÃ© avec variant: stylist-1761504151845-kgglkv8h3 â†’ ID rÃ©el: stylist-1761504151845-kgglkv8h3
[POST /api/appointments] ðŸ” VÃ©rification des chevauchements...
[POST /api/appointments] ðŸ”   DÃ©but: 2025-11-21T08:00:00.000Z
[POST /api/appointments] ðŸ”   Fin: 2025-11-21T10:00:00.000Z
[POST /api/appointments] ðŸ”   DurÃ©e: 120 minutes
[POST /api/appointments] ðŸ”   Styliste: stylist-1761504151845-kgglkv8h3
[POST /api/appointments] ðŸ” Date/heure reÃ§ue (ISO): 2025-11-21T08:00:00.000Z
[POST /api/appointments] ðŸ” Date/heure parsÃ©e: 2025-11-21T08:00:00.000Z
[POST /api/appointments] ðŸ” Date/heure locale: Fri Nov 21 2025 09:00:00 GMT+0100 (Central European Standard Time)
[POST /api/appointments] ðŸ” VÃ©rification des horaires pour jour: 5 (vendredi)
[POST /api/appointments] ðŸ” salonIdForQuery utilisÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” body.salonId: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” previewSalon.id: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] ðŸ” Essai rÃ©cupÃ©ration horaires avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] âš ï¸ Erreur avec ID salon-c152118c-478b-497b-98db-db37a4c58898: Could not find the table 'public.opening_hours' in the schema cache
[POST /api/appointments] ðŸ” Essai rÃ©cupÃ©ration horaires avec ID: c152118c-478b-497b-98db-db37a4c58898
[POST /api/appointments] âš ï¸ Erreur avec ID c152118c-478b-497b-98db-db37a4c58898: Could not find the table 'public.opening_hours' in the schema cache
[POST /api/appointments] ðŸ” Essai avec salon_hours...
[POST /api/appointments] âœ… Horaires trouvÃ©s dans salon_hours avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[POST /api/appointments] âŒ Erreur lors de la vÃ©rification des dates de fermeture avec ID salon-c152118c-478b-497b-98db-db37a4c58898 : {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[POST /api/appointments] âŒ Erreur lors de la vÃ©rification des dates de fermeture avec ID c152118c-478b-497b-98db-db37a4c58898 : {
  code: '42703',
  details: null,
  hint: null,
  message: 'column salon_closed_dates.stylist_id does not exist'
}
[POST /api/appointments] â„¹ï¸ Aucun horaire styliste trouvÃ©, le styliste n'a pas d'horaires spÃ©cifiques. Utilisation des horaires salon uniquement
[POST /api/appointments] ðŸ” Horaires styliste finaux: []
[POST /api/appointments] ðŸ” Calcul des intervalles valides:
[POST /api/appointments] ðŸ”   Horaires salon: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[POST /api/appointments] ðŸ”   Horaires styliste: []
[POST /api/appointments] ðŸ”   Jour de la semaine: 5
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: []
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: []
[getValidIntervalsForDay] â„¹ï¸ Aucun horaire styliste spÃ©cifique, utilisation des horaires salon uniquement
[getValidIntervalsForDay]   Intervalle salon: 08:30-12:00
[getValidIntervalsForDay]   Intervalle salon: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (salon uniquement): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[POST /api/appointments] ðŸ” Intervalles valides calculÃ©s: [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[POST /api/appointments] â„¹ï¸ Le styliste n'a pas d'horaires spÃ©cifiques. Utilisation des horaires salon uniquement.
[POST /api/appointments] ðŸ” Validation du crÃ©neau:
[POST /api/appointments] ðŸ”   DÃ©but: 09:00
[POST /api/appointments] ðŸ”   Fin: 11:00
[POST /api/appointments] ðŸ”   DurÃ©e: 120 min
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 120 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[POST /api/appointments] âœ… Le crÃ©neau est valide
[POST /api/appointments] âœ… Aucun chevauchement dÃ©tectÃ©, crÃ©ation du rendez-vous...
[POST /api/appointments] ðŸ” DonnÃ©es finales avant crÃ©ation:
[POST /api/appointments] ðŸ”   finalStylistId: stylist-1761504151845-kgglkv8h3
[POST /api/appointments] ðŸ”   finalClientId: client-1762723434708-o4kbf167s
[POST /api/appointments] ðŸ”   serviceId: service-1762205819873-b8cer0w2t
[POST /api/appointments] ðŸ”   appointmentDate: 2025-11-21T08:00:00.000Z
[POST /api/appointments] DonnÃ©es du rendez-vous: {
  "id": "appointment-1763660217297-14pct8ejh",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762723434708-o4kbf167s",
  "stylist_id": "stylist-1761504151845-kgglkv8h3",
  "service_id": "service-1762205819873-b8cer0w2t",
  "appointment_date": "2025-11-21T08:00:00.000Z",
  "duration": 120,
  "status": "confirmed",
  "notes": null
}
[POST /api/appointments] client_id dans appointmentData: client-1762723434708-o4kbf167s
[POST /api/appointments] client_id type: string
[POST /api/appointments] ðŸ” Tentative d'insertion dans Supabase...
[POST /api/appointments] ðŸ”   appointmentData complet: {
  "id": "appointment-1763660217297-14pct8ejh",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762723434708-o4kbf167s",
  "stylist_id": "stylist-1761504151845-kgglkv8h3",
  "service_id": "service-1762205819873-b8cer0w2t",
  "appointment_date": "2025-11-21T08:00:00.000Z",
  "duration": 120,
  "status": "confirmed",
  "notes": null
}
[POST /api/appointments] Rendez-vous crÃ©Ã© avec succÃ¨s: {
  "id": "appointment-1763660217297-14pct8ejh",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "client_id": "client-1762723434708-o4kbf167s",
  "stylist_id": "stylist-1761504151845-kgglkv8h3",
  "service_id": "service-1762205819873-b8cer0w2t",
  "appointment_date": "2025-11-21T08:00:00+00:00",
  "duration": 120,
  "status": "confirmed",
  "notes": null,
  "created_at": "2025-11-20T17:36:57.388655+00:00",
  "updated_at": "2025-11-20T17:36:57.388655+00:00"
}
[POST /api/appointments] âœ… client_id dans le rendez-vous crÃ©Ã©: client-1762723434708-o4kbf167s
[POST /api/appointments] âœ… client_id type: string
[POST /api/appointments] ðŸ” VÃ©rification immÃ©diate - Rendez-vous trouvÃ©: OUI
[POST /api/appointments] ðŸ” client_id dans la vÃ©rification: client-1762723434708-o4kbf167s
[POST /api/appointments] ðŸ” client_id correspond: true
[POST /api/appointments] ðŸ” Total rendez-vous pour ce client: 4
[POST /api/appointments] ðŸ” Derniers rendez-vous du client: [
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  }
]
[POST /api/appointments] ðŸ” Rendez-vous crÃ©Ã© trouvÃ© dans la liste: OUI
[POST /api/appointments] âœ… Rendez-vous crÃ©Ã©: appointment-1763660217297-14pct8ejh
[POST /api/appointments] ðŸ“§ Envoi des notifications de confirmation...
[Notifications] [MOCK EMAIL] Envoi Ã  kassy@gmail.com : Votre rendez-vous est confirmÃ© - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[Notifications] [MOCK SMS] Envoi Ã  0123456789 : Votre rendez-vous chez les cheveux au vent est confirmÃ© le vendredi 21 novembre 2025 Ã  09:00 avec Julie Moulin. Service: brushing.
[POST /api/appointments] âœ… Notifications envoyÃ©es avec succÃ¨s
6:36:57 PM [express] POST /api/appointments 200 in 1541ms :: {"id":"appointment-1763660217297-14pct8â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 4
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 17
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 4
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 4 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 4
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763660217297-14pct8ejh
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763660217297-14pct8ejh - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "startTime": "2025-11-21T08:00:00+00:00",
    "endTime": "2025-11-21T10:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 4
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 4
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /favicon.ico
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 4
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 17
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 4
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 4 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 4
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763660217297-14pct8ejh
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763660217297-14pct8ejh - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "startTime": "2025-11-21T08:00:00+00:00",
    "endTime": "2025-11-21T10:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 4
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 4
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 4
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 17
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 4
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-20T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 4 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763594836244-l7z328fda : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 4
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763594836244-l7z328fda
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763594836244-l7z328fda - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763660217297-14pct8ejh
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763660217297-14pct8ejh - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763594836244-l7z328fda",
    "startTime": "2025-11-20T15:00:00+00:00",
    "endTime": "2025-11-20T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "startTime": "2025-11-21T08:00:00+00:00",
    "endTime": "2025-11-21T10:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 4
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 4
[REQ] POST /api/client/logout
[REQ] GET /favicon.ico
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:37:27 PM [express] GET /api/auth/user 200 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:37:28 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] POST /api/salon/login
ðŸ” Debug /api/salon/login - Attempting login for: veignatpierre@gmail.com â†’ veignatpierre@gmail.com
[SalonAuthService] Email normalisÃ© pour login: veignatpierre@gmail.com â†’ veignatpierre@gmail.com
[salon/login] salonId depuis result.salon: salon-c152118c-478b-497b-98db-db37a4c58898
[salon/login] âš ï¸ PrÃ©fixe "salon-" retirÃ©: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ c152118c-478b-497b-98db-db37a4c58898
[salon/login] âœ… SalonId attachÃ© Ã  la session: c152118c-478b-497b-98db-db37a4c58898
[salon/login] âœ… Session sauvegardÃ©e pour user: c152118c-478b-497b-98db-db37a4c58898
âœ… Debug /api/salon/login - Session created and saved: HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG
âœ… Debug /api/salon/login - User session: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  firstName: 'Pierre',
  lastName: 'Veignat',
  phone: '+41 79 133 82 40',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
6:37:35 PM [express] POST /api/salon/login 200 in 498ms :: {"success":true,"user":{"id":"c152118c-47â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:37:35 PM [express] GET /api/auth/user 200 in 104ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:37:35 PM [express] GET /api/auth/user 304 in 77ms :: {"authenticated":true,"userType":"owner","useâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
6:37:35 PM [express] GET /api/salon 304 in 194ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:37:35 PM [express] GET /api/auth/user 304 in 68ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:37:35.885Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/clients] Utilisateur: authentifiÃ©
[GET /api/clients] salonId depuis req.user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId final utilisÃ©: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] RÃ©cupÃ©ration du salon depuis la base de donnÃ©es...
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[DEBUG] ðŸ” Original URL: /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[GET /api/salons/:salonId/stylistes] salonId: c152118c-478b-497b-98db-db37a4c58898 â†’ normalized: c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] Affichage de tous les stylistes pour owner
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
6:37:35 PM [express] GET /api/salon 304 in 84ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:37:36 PM [express] GET /api/auth/user 304 in 156ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Salon ID rÃ©cupÃ©rÃ© depuis la DB pour user_id: c152118c-478b-497b-98db-db37a4c58898 â†’ salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] Salon ID final utilisÃ© pour la requÃªte: salon-c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] DonnÃ©es brutes reÃ§ues de Supabase: [
  {
    "id": "stylist-1762206054932-ioq2gnyww",
    "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "first_name": "Nathan",
    "last_name": "Rebetez",
    "email": "",
    "phone": "+0123456789",
    "photo_url": "",
    "specialties": [
      "Enfant",
      "Homme"
    ],
    "is_active": false,
    "created_at": "2025-11-03T21:40:54.932",
    "updated_at": "2025-11-13T20:49:30.398",
    "color": "#6f6f6f"
  }
]
[STYLISTES API] Retour de 3 styliste(s) pour salon c152118c-478b-497b-98db-db37a4c58898 (owner)
[STYLISTES API] Exemple de donnÃ©es mappÃ©es: {
  "id": "stylist-1762206054932-ioq2gnyww",
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "firstName": "Nathan",
  "lastName": "Rebetez",
  "name": "Nathan Rebetez",
  "email": "",
  "phone": "+0123456789",
  "photoUrl": "",
  "specialties": [
    "Enfant",
    "Homme"
  ],
  "isActive": false,
  "color": "#6f6f6f",
  "createdAt": "2025-11-03T21:40:54.932",
  "updatedAt": "2025-11-13T20:49:30.398"
}
6:37:36 PM [express] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes 304 in 169ms :: â€¦
[GET /api/clients] âœ… 5 clients trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Retour de 5 client(s)
6:37:36 PM [express] GET /api/clients 304 in 247ms :: [{"id":"client-1762772834221-jpn2kzuw1","salonâ€¦
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 17 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:37:57.985Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:37:58 PM [express] GET /api/auth/user 304 in 336ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 8 rendez-vous trouvÃ©s
[REQ] DELETE /api/appointments/appointment-1763594836244-l7z328fda
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DELETE /api/appointments/:id] Suppression du rendez-vous: appointment-1763594836244-l7z328fda
[DELETE /api/appointments/:id] âœ… Rendez-vous supprimÃ© avec succÃ¨s: appointment-1763594836244-l7z328fda
[DELETE /api/appointments/:id] ðŸ“§ Envoi de la notification d'annulation...
[Notifications] [MOCK EMAIL] Envoi Ã  kassy@gmail.com : Annulation de votre rendez-vous - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[DELETE /api/appointments/:id] âœ… Notification envoyÃ©e avec succÃ¨s
6:38:06 PM [express] DELETE /api/appointments/appointment-1763594836244-l7z328fda 200 in 701ms :: {"â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:38:06.424Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 7 rendez-vous trouvÃ©s
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:38:13.121Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
6:38:13 PM [express] GET /api/salon 304 in 154ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:13 PM [express] GET /api/auth/user 304 in 155ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 16 rendez-vous trouvÃ©s
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:14 PM [express] GET /api/auth/user 304 in 109ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:17 PM [express] GET /api/auth/user 304 in 70ms :: {"authenticated":true,"userType":"owner","useâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
6:38:17 PM [express] GET /api/salon 304 in 78ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:18 PM [express] GET /api/auth/user 304 in 83ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-test-1&stylistId=stylist-1761504151845-kgglkv8h3
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-test-1&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-test-1&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:39 PM [express] GET /api/auth/user 304 in 118ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
6:38:40 PM [express] GET /api/salon 304 in 123ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:40 PM [express] GET /api/auth/user 304 in 197ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:41 PM [express] GET /api/auth/user 304 in 98ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-10-31T23:00:00.000Z&endDate=2025-11-30T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:38:44.828Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 16 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-19T23:00:00.000Z&endDate=2025-11-20T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:38:46.759Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 0 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-20T23:00:00.000Z&endDate=2025-11-21T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:38:49.601Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 6 rendez-vous trouvÃ©s
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/services
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:38:58 PM [express] GET /api/auth/user 304 in 181ms :: {"authenticated":true,"userType":"owner","usâ€¦
6:38:58 PM [express] GET /api/services 304 in 180ms :: [{"id":"test-service-1","salon_id":"salon-c15â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:39:07 PM [express] GET /api/auth/user 304 in 196ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:39:16 PM [express] GET /api/auth/user 304 in 154ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:39:18 PM [express] GET /api/auth/user 304 in 78ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:39:26 PM [express] GET /api/auth/user 304 in 169ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=week&date=2025-11-20
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'week',
  dateParam: '2025-11-20'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:39:53 PM [express] GET /api/auth/user 304 in 190ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-20',
  referenceDate: '2025-11-19T23:00:00.000Z',
  referenceDateLocal: '2025-11-20',
  view: 'week'
}
[GET /api/salons/:salonId/reports] PÃ©riode semaine calculÃ©e: {
  referenceDate: '2025-11-19T23:00:00.000Z',
  dayOfWeek: 4,
  daysFromMonday: 3,
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'week',
  dateParam: '2025-11-20',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  previousPeriodStart: '2025-11-09T23:00:00.000Z',
  previousPeriodEnd: '2025-11-16T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: {
  count: 7,
  sample: [
    {
      id: 'appointment-1762723645943-a90r2p1mx',
      date: '2025-11-19T07:30:00+00:00',
      service_id: 'service-1762205819873-b8cer0w2t'
    },
    {
      id: 'appointment-1763218217647-zmru4u71o',
      date: '2025-11-21T08:00:00+00:00',
      service_id: 'test-service-1'
    },
    {
      id: 'appointment-1763596027783-ywdjrd6by',
      date: '2025-11-21T15:30:00+00:00',
      service_id: 'service-test-1'
    }
  ]
}
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: {
  appointmentsCount: 7,
  periodRevenue: 500,
  samplePrices: [
    { service_id: 'service-1762205819873-b8cer0w2t', price: 120 },
    { service_id: 'test-service-1', price: 35 },
    { service_id: 'service-test-1', price: 50 }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  view: 'week',
  appointmentsCount: 7
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 500,
  chartTotalRevenue: 500,
  revenueMatch: true,
  kpiAppointments: 7,
  chartTotalAppointments: 7,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: {
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  count: 2
}
[GET /api/salons/:salonId/reports] âœ… Stylistes rÃ©cupÃ©rÃ©s par IDs: {
  count: 2,
  stylists: [
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      rawName: undefined,
      firstName: 'Julie',
      lastName: 'Moulin',
      constructedName: 'Julie Moulin',
      allFields: [Array]
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      rawName: undefined,
      firstName: 'pierre',
      lastName: 'veignat',
      constructedName: 'pierre veignat',
      allFields: [Array]
    }
  ]
}
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 7,
  withStylistId: 7,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 7,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 3,
      revenue: 290
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'week',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 2,
  topStylists: [
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 3,
      revenue: 290
    }
  ],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: [
  { name: 'Coupe ModifiÃ©e', bookings: 3 },
  { name: 'brushing', bookings: 2 },
  { name: 'Service ModifiÃ©', bookings: 1 },
  { name: 'Soins du front', bookings: 1 }
]
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 7,
  previousPeriodTotal: 9,
  appointmentsTrend: -22.2,
  periodRevenue: 500,
  previousPeriodRevenue: 530,
  revenueTrend: -5.7,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 2,
  newClientsTrend: -100
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'week',
  dateParam: '2025-11-20',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalAppointments: 7,
  periodRevenue: 500,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: -22.2,
  revenueTrend: -5.7,
  newClientsTrend: -100,
  chartDataLength: 7,
  chartDataSample: [
    { label: 'Lun', day: 'Lun', revenue: 0, appointments: 0 },
    { label: 'Mar', day: 'Mar', revenue: 0, appointments: 0 },
    { label: 'Mer', day: 'Mer', revenue: 120, appointments: 1 }
  ]
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=year&date=2025-11-20
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'year',
  dateParam: '2025-11-20'
}
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-20',
  referenceDate: '2025-11-19T23:00:00.000Z',
  referenceDateLocal: '2025-11-20',
  view: 'year'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'year',
  dateParam: '2025-11-20',
  periodStart: '2024-12-31T23:00:00.000Z',
  periodEnd: '2025-12-31T22:59:59.999Z',
  previousPeriodStart: '2023-12-31T23:00:00.000Z',
  previousPeriodEnd: '2024-12-31T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: {
  count: 16,
  sample: [
    {
      id: 'appointment-1762722571672-v5qffggjc',
      date: '2025-11-13T10:00:00+00:00',
      service_id: 'service-test-1'
    },
    {
      id: 'appointment-1762723645943-a90r2p1mx',
      date: '2025-11-19T07:30:00+00:00',
      service_id: 'service-1762205819873-b8cer0w2t'
    },
    {
      id: 'appointment-1762724618992-oxffjlpu1',
      date: '2025-11-12T07:00:00+00:00',
      service_id: 'service-1762205819873-b8cer0w2t'
    }
  ]
}
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: {
  appointmentsCount: 16,
  periodRevenue: 1030,
  samplePrices: [
    { service_id: 'service-test-1', price: 50 },
    { service_id: 'service-1762205819873-b8cer0w2t', price: 120 },
    { service_id: 'service-1762205819873-b8cer0w2t', price: 120 }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2024-12-31T23:00:00.000Z',
  periodEnd: '2025-12-31T22:59:59.999Z',
  view: 'year',
  appointmentsCount: 16
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 1030,
  chartTotalRevenue: 1030,
  revenueMatch: true,
  kpiAppointments: 16,
  chartTotalAppointments: 16,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: {
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  count: 2
}
[GET /api/salons/:salonId/reports] âœ… Stylistes rÃ©cupÃ©rÃ©s par IDs: {
  count: 2,
  stylists: [
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      rawName: undefined,
      firstName: 'Julie',
      lastName: 'Moulin',
      constructedName: 'Julie Moulin',
      allFields: [Array]
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      rawName: undefined,
      firstName: 'pierre',
      lastName: 'veignat',
      constructedName: 'pierre veignat',
      allFields: [Array]
    }
  ]
}
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 16,
  withStylistId: 16,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 16,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 9,
      revenue: 615
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 7,
      revenue: 415
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'year',
  periodStart: '2024-12-31T23:00:00.000Z',
  periodEnd: '2025-12-31T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 2,
  topStylists: [
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 9,
      revenue: 615
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 7,
      revenue: 415
    }
  ],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: [
  { name: 'Coupe ModifiÃ©e', bookings: 6 },
  { name: 'Service ModifiÃ©', bookings: 5 },
  { name: 'brushing', bookings: 4 },
  { name: 'Soins du front', bookings: 1 }
]
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 16,
  previousPeriodTotal: 0,
  appointmentsTrend: 100,
  periodRevenue: 1030,
  previousPeriodRevenue: 0,
  revenueTrend: 100,
  newClientsCount: 5,
  previousPeriodNewClientsCount: 0,
  newClientsTrend: 100
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'year',
  dateParam: '2025-11-20',
  periodStart: '2024-12-31T23:00:00.000Z',
  periodEnd: '2025-12-31T22:59:59.999Z',
  totalAppointments: 16,
  periodRevenue: 1030,
  newClients: 5,
  retentionRate: 60,
  appointmentsTrend: 100,
  revenueTrend: 100,
  newClientsTrend: 100,
  chartDataLength: 12,
  chartDataSample: [
    { label: 'Janvier', revenue: 0, appointments: 0 },
    { label: 'FÃ©vrier', revenue: 0, appointments: 0 },
    { label: 'Mars', revenue: 0, appointments: 0 }
  ]
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=day&date=2025-11-20
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'day',
  dateParam: '2025-11-20'
}
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-20',
  referenceDate: '2025-11-19T23:00:00.000Z',
  referenceDateLocal: '2025-11-20',
  view: 'day'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'day',
  dateParam: '2025-11-20',
  periodStart: '2025-11-19T23:00:00.000Z',
  periodEnd: '2025-11-20T22:59:59.999Z',
  previousPeriodStart: '2025-11-18T23:00:00.000Z',
  previousPeriodEnd: '2025-11-19T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: { count: 0, sample: [] }
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: { appointmentsCount: 0, periodRevenue: 0, samplePrices: [] }
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-19T23:00:00.000Z',
  periodEnd: '2025-11-20T22:59:59.999Z',
  view: 'day',
  appointmentsCount: 0
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 0,
  chartTotalRevenue: 0,
  revenueMatch: true,
  kpiAppointments: 0,
  chartTotalAppointments: 0,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: { uniqueStylistIdsInAppointments: [], count: 0 }
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 0,
  withStylistId: 0,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 0,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'day',
  periodStart: '2025-11-19T23:00:00.000Z',
  periodEnd: '2025-11-20T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 0,
  topStylists: [],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: []
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 0,
  previousPeriodTotal: 1,
  appointmentsTrend: -100,
  periodRevenue: 0,
  previousPeriodRevenue: 120,
  revenueTrend: -100,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 0,
  newClientsTrend: 0
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'day',
  dateParam: '2025-11-20',
  periodStart: '2025-11-19T23:00:00.000Z',
  periodEnd: '2025-11-20T22:59:59.999Z',
  totalAppointments: 0,
  periodRevenue: 0,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: -100,
  revenueTrend: -100,
  newClientsTrend: 0,
  chartDataLength: 14,
  chartDataSample: [
    { label: '07:00', revenue: 0, appointments: 0 },
    { label: '08:00', revenue: 0, appointments: 0 },
    { label: '09:00', revenue: 0, appointments: 0 }
  ]
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=day&date=2025-11-21
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'day',
  dateParam: '2025-11-21'
}
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-21',
  referenceDate: '2025-11-20T23:00:00.000Z',
  referenceDateLocal: '2025-11-21',
  view: 'day'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'day',
  dateParam: '2025-11-21',
  periodStart: '2025-11-20T23:00:00.000Z',
  periodEnd: '2025-11-21T22:59:59.999Z',
  previousPeriodStart: '2025-11-19T23:00:00.000Z',
  previousPeriodEnd: '2025-11-20T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: {
  count: 6,
  sample: [
    {
      id: 'appointment-1763218217647-zmru4u71o',
      date: '2025-11-21T08:00:00+00:00',
      service_id: 'test-service-1'
    },
    {
      id: 'appointment-1763596027783-ywdjrd6by',
      date: '2025-11-21T15:30:00+00:00',
      service_id: 'service-test-1'
    },
    {
      id: 'appointment-1763596341509-3xm5pvd5j',
      date: '2025-11-21T15:30:00+00:00',
      service_id: 'service-1762205748636-sfpwr6qnd'
    }
  ]
}
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: {
  appointmentsCount: 6,
  periodRevenue: 380,
  samplePrices: [
    { service_id: 'test-service-1', price: 35 },
    { service_id: 'service-test-1', price: 50 },
    { service_id: 'service-1762205748636-sfpwr6qnd', price: 75 }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-20T23:00:00.000Z',
  periodEnd: '2025-11-21T22:59:59.999Z',
  view: 'day',
  appointmentsCount: 6
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 380,
  chartTotalRevenue: 380,
  revenueMatch: true,
  kpiAppointments: 6,
  chartTotalAppointments: 6,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: {
  uniqueStylistIdsInAppointments: [
    'stylist-1761567120719-0f2lq2164',
    'stylist-1761504151845-kgglkv8h3'
  ],
  count: 2
}
[GET /api/salons/:salonId/reports] âœ… Stylistes rÃ©cupÃ©rÃ©s par IDs: {
  count: 2,
  stylists: [
    {
      id: 'stylist-1761567120719-0f2lq2164',
      rawName: undefined,
      firstName: 'pierre',
      lastName: 'veignat',
      constructedName: 'pierre veignat',
      allFields: [Array]
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      rawName: undefined,
      firstName: 'Julie',
      lastName: 'Moulin',
      constructedName: 'Julie Moulin',
      allFields: [Array]
    }
  ]
}
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 6,
  withStylistId: 6,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [
    'stylist-1761567120719-0f2lq2164',
    'stylist-1761504151845-kgglkv8h3'
  ],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 6,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 2,
      revenue: 170
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'day',
  periodStart: '2025-11-20T23:00:00.000Z',
  periodEnd: '2025-11-21T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 2,
  topStylists: [
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 2,
      revenue: 170
    }
  ],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: [
  { name: 'Coupe ModifiÃ©e', bookings: 3 },
  { name: 'Service ModifiÃ©', bookings: 1 },
  { name: 'Soins du front', bookings: 1 },
  { name: 'brushing', bookings: 1 }
]
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 6,
  previousPeriodTotal: 0,
  appointmentsTrend: 100,
  periodRevenue: 380,
  previousPeriodRevenue: 0,
  revenueTrend: 100,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 0,
  newClientsTrend: 0
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'day',
  dateParam: '2025-11-21',
  periodStart: '2025-11-20T23:00:00.000Z',
  periodEnd: '2025-11-21T22:59:59.999Z',
  totalAppointments: 6,
  periodRevenue: 380,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: 100,
  revenueTrend: 100,
  newClientsTrend: 0,
  chartDataLength: 14,
  chartDataSample: [
    { label: '07:00', revenue: 0, appointments: 0 },
    { label: '08:00', revenue: 0, appointments: 0 },
    { label: '09:00', revenue: 155, appointments: 2 }
  ]
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=day&date=2025-11-22
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'day',
  dateParam: '2025-11-22'
}
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-22',
  referenceDate: '2025-11-21T23:00:00.000Z',
  referenceDateLocal: '2025-11-22',
  view: 'day'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'day',
  dateParam: '2025-11-22',
  periodStart: '2025-11-21T23:00:00.000Z',
  periodEnd: '2025-11-22T22:59:59.999Z',
  previousPeriodStart: '2025-11-20T23:00:00.000Z',
  previousPeriodEnd: '2025-11-21T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: { count: 0, sample: [] }
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: { appointmentsCount: 0, periodRevenue: 0, samplePrices: [] }
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-21T23:00:00.000Z',
  periodEnd: '2025-11-22T22:59:59.999Z',
  view: 'day',
  appointmentsCount: 0
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 0,
  chartTotalRevenue: 0,
  revenueMatch: true,
  kpiAppointments: 0,
  chartTotalAppointments: 0,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: { uniqueStylistIdsInAppointments: [], count: 0 }
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 0,
  withStylistId: 0,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 0,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'day',
  periodStart: '2025-11-21T23:00:00.000Z',
  periodEnd: '2025-11-22T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 0,
  topStylists: [],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: []
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 0,
  previousPeriodTotal: 6,
  appointmentsTrend: -100,
  periodRevenue: 0,
  previousPeriodRevenue: 380,
  revenueTrend: -100,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 0,
  newClientsTrend: 0
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'day',
  dateParam: '2025-11-22',
  periodStart: '2025-11-21T23:00:00.000Z',
  periodEnd: '2025-11-22T22:59:59.999Z',
  totalAppointments: 0,
  periodRevenue: 0,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: -100,
  revenueTrend: -100,
  newClientsTrend: 0,
  chartDataLength: 14,
  chartDataSample: [
    { label: '07:00', revenue: 0, appointments: 0 },
    { label: '08:00', revenue: 0, appointments: 0 },
    { label: '09:00', revenue: 0, appointments: 0 }
  ]
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=day&date=2025-11-23
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'day',
  dateParam: '2025-11-23'
}
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-23',
  referenceDate: '2025-11-22T23:00:00.000Z',
  referenceDateLocal: '2025-11-23',
  view: 'day'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'day',
  dateParam: '2025-11-23',
  periodStart: '2025-11-22T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  previousPeriodStart: '2025-11-21T23:00:00.000Z',
  previousPeriodEnd: '2025-11-22T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: { count: 0, sample: [] }
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: { appointmentsCount: 0, periodRevenue: 0, samplePrices: [] }
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-22T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  view: 'day',
  appointmentsCount: 0
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 0,
  chartTotalRevenue: 0,
  revenueMatch: true,
  kpiAppointments: 0,
  chartTotalAppointments: 0,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: { uniqueStylistIdsInAppointments: [], count: 0 }
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 0,
  withStylistId: 0,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 0,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'day',
  periodStart: '2025-11-22T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 0,
  topStylists: [],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: []
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 0,
  previousPeriodTotal: 0,
  appointmentsTrend: 0,
  periodRevenue: 0,
  previousPeriodRevenue: 0,
  revenueTrend: 0,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 0,
  newClientsTrend: 0
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'day',
  dateParam: '2025-11-23',
  periodStart: '2025-11-22T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalAppointments: 0,
  periodRevenue: 0,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: 0,
  revenueTrend: 0,
  newClientsTrend: 0,
  chartDataLength: 14,
  chartDataSample: [
    { label: '07:00', revenue: 0, appointments: 0 },
    { label: '08:00', revenue: 0, appointments: 0 },
    { label: '09:00', revenue: 0, appointments: 0 }
  ]
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=day&date=2025-11-24
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'day',
  dateParam: '2025-11-24'
}
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-24',
  referenceDate: '2025-11-23T23:00:00.000Z',
  referenceDateLocal: '2025-11-24',
  view: 'day'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'day',
  dateParam: '2025-11-24',
  periodStart: '2025-11-23T23:00:00.000Z',
  periodEnd: '2025-11-24T22:59:59.999Z',
  previousPeriodStart: '2025-11-22T23:00:00.000Z',
  previousPeriodEnd: '2025-11-23T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: { count: 0, sample: [] }
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: { appointmentsCount: 0, periodRevenue: 0, samplePrices: [] }
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-23T23:00:00.000Z',
  periodEnd: '2025-11-24T22:59:59.999Z',
  view: 'day',
  appointmentsCount: 0
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 0,
  chartTotalRevenue: 0,
  revenueMatch: true,
  kpiAppointments: 0,
  chartTotalAppointments: 0,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: { uniqueStylistIdsInAppointments: [], count: 0 }
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 0,
  withStylistId: 0,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 0,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'day',
  periodStart: '2025-11-23T23:00:00.000Z',
  periodEnd: '2025-11-24T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 0,
  topStylists: [],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: []
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 0,
  previousPeriodTotal: 0,
  appointmentsTrend: 0,
  periodRevenue: 0,
  previousPeriodRevenue: 0,
  revenueTrend: 0,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 0,
  newClientsTrend: 0
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'day',
  dateParam: '2025-11-24',
  periodStart: '2025-11-23T23:00:00.000Z',
  periodEnd: '2025-11-24T22:59:59.999Z',
  totalAppointments: 0,
  periodRevenue: 0,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: 0,
  revenueTrend: 0,
  newClientsTrend: 0,
  chartDataLength: 14,
  chartDataSample: [
    { label: '07:00', revenue: 0, appointments: 0 },
    { label: '08:00', revenue: 0, appointments: 0 },
    { label: '09:00', revenue: 0, appointments: 0 }
  ]
}
[REQ] GET /api/salons/check-stylist-schedule-table
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /hours
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/main.tsx?v=DncE743jbxOQ6-d4v2AW5
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@vite/client
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/App.tsx?v=DncE743jbxOQ6-d4v2AW5
[REQ] GET /src/index.css?v=DncE743jbxOQ6-d4v2AW5
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/theme.ts?v=DncE743jbxOQ6-d4v2AW5
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@react-refresh
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/lib/queryClient.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/tooltip.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/lib/theme.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/components/ui/toaster.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/client-register.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/clients.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/components/ui/button.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/accordion.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Steps.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ui/dialog.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/toast.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /src/hooks/useReportsData.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:40:32 PM [express] GET /api/auth/user 304 in 68ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:40:33 PM [express] GET /api/auth/user 304 in 79ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salons/check-stylist-schedule-table
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-19T22:48:05.041+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 57% 71%)'
  }
]
6:40:33 PM [express] GET /api/salon 304 in 175ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:40:33 PM [express] GET /api/auth/user 304 in 172ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes
[GET /api/salons/:salonId/stylistes] salonId: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ normalized: c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] Affichage de tous les stylistes pour owner
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/hours
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/hours] 2025-11-20T17:40:33.391Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] DonnÃ©es brutes reÃ§ues de Supabase: [
  {
    "id": "stylist-1762206054932-ioq2gnyww",
    "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "first_name": "Nathan",
    "last_name": "Rebetez",
    "email": "",
    "phone": "+0123456789",
    "photo_url": "",
    "specialties": [
      "Enfant",
      "Homme"
    ],
    "is_active": false,
    "created_at": "2025-11-03T21:40:54.932",
    "updated_at": "2025-11-13T20:49:30.398",
    "color": "#6f6f6f"
  }
]
[STYLISTES API] Retour de 3 styliste(s) pour salon salon-c152118c-478b-497b-98db-db37a4c58898 (owner)
[STYLISTES API] Exemple de donnÃ©es mappÃ©es: {
  "id": "stylist-1762206054932-ioq2gnyww",
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "firstName": "Nathan",
  "lastName": "Rebetez",
  "name": "Nathan Rebetez",
  "email": "",
  "phone": "+0123456789",
  "photoUrl": "",
  "specialties": [
    "Enfant",
    "Homme"
  ],
  "isActive": false,
  "color": "#6f6f6f",
  "createdAt": "2025-11-03T21:40:54.932",
  "updatedAt": "2025-11-13T20:49:30.398"
}
6:40:33 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes 304 in 65mâ€¦
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[REQ] GET /api/clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/clients] Utilisateur: authentifiÃ©
[GET /api/clients] salonId depuis req.user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId final utilisÃ©: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] RÃ©cupÃ©ration du salon depuis la base de donnÃ©es...
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:40:59.796Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: salon-c152118c-478b-497b-98db-db37a4c58898
6:40:59 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services 304 in 154mâ€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:40:59 PM [express] GET /api/auth/user 304 in 161ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/clients] âœ… Salon ID rÃ©cupÃ©rÃ© depuis la DB pour user_id: c152118c-478b-497b-98db-db37a4c58898 â†’ salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] Salon ID final utilisÃ© pour la requÃªte: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… 5 clients trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Retour de 5 client(s)
6:41:00 PM [express] GET /api/clients 304 in 582ms :: [{"id":"client-1762772834221-jpn2kzuw1","salonâ€¦
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 7 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-10-31T23:00:00.000Z&endDate=2025-11-30T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:41:01.335Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 16 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-30T23:00:00.000Z&endDate=2025-12-31T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:41:02.048Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 0 rendez-vous trouvÃ©s
[REQ] POST /api/auth/verify-salon
[VERIFY] âš¡âš¡âš¡ Route /api/auth/verify-salon appelÃ©e!
[VERIFY] Original URL: /api/auth/verify-salon
[VERIFY] Path: /api/auth/verify-salon
[VERIFY] Session ID: HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG
[VERIFY] Headers cookie: prÃ©sents
[VERIFY] req.session existe? true
[VERIFY] req.session.user existe? true
[VERIFY] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
ðŸ” [VERIFY] VÃ©rification salon pour user: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Configuration Supabase OK
[VERIFY] ðŸ”Ž Recherche du salon avec user_id: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:29 PM [express] GET /api/auth/user 304 in 177ms :: {"authenticated":true,"userType":"owner","usâ€¦
âœ… [VERIFY] Salon existe dÃ©jÃ : salon-c152118c-478b-497b-98db-db37a4c58898
[VERIFY] DÃ©tails salon: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  user_id: 'c152118c-478b-497b-98db-db37a4c58898'
}
[VERIFY] SalonId normalisÃ©: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Session mise Ã  jour avec salonId: c152118c-478b-497b-98db-db37a4c58898
[REQ] PUT /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
âœ… Salon mis Ã  jour avec succÃ¨s, ID: salon-c152118c-478b-497b-98db-db37a4c58898
6:41:37 PM [express] PUT /api/salon 200 in 384ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:36.935+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 66% 66%)'
  }
]
6:41:37 PM [express] GET /api/salon 200 in 77ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T17:41:38.233Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:38 PM [express] GET /api/auth/user 304 in 89ms :: {"authenticated":true,"userType":"owner","useâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:36.935+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(222 66% 66%)'
  }
]
6:41:38 PM [express] GET /api/salon 304 in 93ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 16 rendez-vous trouvÃ©s
[REQ] POST /api/auth/verify-salon
[VERIFY] âš¡âš¡âš¡ Route /api/auth/verify-salon appelÃ©e!
[VERIFY] Original URL: /api/auth/verify-salon
[VERIFY] Path: /api/auth/verify-salon
[VERIFY] Session ID: HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG
[VERIFY] Headers cookie: prÃ©sents
[VERIFY] req.session existe? true
[VERIFY] req.session.user existe? true
[VERIFY] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
ðŸ” [VERIFY] VÃ©rification salon pour user: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Configuration Supabase OK
[VERIFY] ðŸ”Ž Recherche du salon avec user_id: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
âœ… [VERIFY] Salon existe dÃ©jÃ : salon-c152118c-478b-497b-98db-db37a4c58898
[VERIFY] DÃ©tails salon: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  user_id: 'c152118c-478b-497b-98db-db37a4c58898'
}
[VERIFY] SalonId normalisÃ©: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Session mise Ã  jour avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:39 PM [express] GET /api/auth/user 304 in 116ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] PUT /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
âœ… Salon mis Ã  jour avec succÃ¨s, ID: salon-c152118c-478b-497b-98db-db37a4c58898
6:41:41 PM [express] PUT /api/salon 200 in 162ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:41.815+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(176 66% 66%)'
  }
]
6:41:41 PM [express] GET /api/salon 200 in 68ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:41.815+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(176 66% 66%)'
  }
]
6:41:43 PM [express] GET /api/salon 304 in 70ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:43 PM [express] GET /api/auth/user 304 in 73ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/public/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:44 PM [express] GET /api/auth/user 304 in 71ms :: {"authenticated":true,"userType":"owner","useâ€¦
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:41.815+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(176 66% 66%)'
  }
]
6:41:49 PM [express] GET /api/salon 304 in 161ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:49 PM [express] GET /api/auth/user 304 in 155ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] POST /api/auth/verify-salon
[VERIFY] âš¡âš¡âš¡ Route /api/auth/verify-salon appelÃ©e!
[VERIFY] Original URL: /api/auth/verify-salon
[VERIFY] Path: /api/auth/verify-salon
[VERIFY] Session ID: HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG
[VERIFY] Headers cookie: prÃ©sents
[VERIFY] req.session existe? true
[VERIFY] req.session.user existe? true
[VERIFY] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
ðŸ” [VERIFY] VÃ©rification salon pour user: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Configuration Supabase OK
[VERIFY] ðŸ”Ž Recherche du salon avec user_id: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:49 PM [express] GET /api/auth/user 304 in 96ms :: {"authenticated":true,"userType":"owner","useâ€¦
âœ… [VERIFY] Salon existe dÃ©jÃ : salon-c152118c-478b-497b-98db-db37a4c58898
[VERIFY] DÃ©tails salon: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  user_id: 'c152118c-478b-497b-98db-db37a4c58898'
}
[VERIFY] SalonId normalisÃ©: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Session mise Ã  jour avec salonId: c152118c-478b-497b-98db-db37a4c58898
[REQ] PUT /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
âœ… Salon mis Ã  jour avec succÃ¨s, ID: salon-c152118c-478b-497b-98db-db37a4c58898
6:41:52 PM [express] PUT /api/salon 200 in 162ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
6:41:52 PM [express] GET /api/salon 200 in 79ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'HJWOJwwM1nEIf86HBLi1gK3bRpwRQMxG',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
6:41:53 PM [express] GET /api/salon 304 in 97ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
6:41:53 PM [express] GET /api/auth/user 304 in 104ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] POST /api/logout
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
6:41:56 PM [express] POST /api/logout 200 in 1ms :: {"success":true}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'zAUBm28_1X0hkkZqBmxFAJxH3E16I_hj',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:41:56 PM [express] GET /api/auth/user 200 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /
[REQ] GET /
[REQ] GET /src/main.tsx?v=Xe7xEfOzlu1YVJsfZagdF
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=Xe7xEfOzlu1YVJsfZagdF
[REQ] GET /src/index.css?v=Xe7xEfOzlu1YVJsfZagdF
[REQ] GET /src/lib/theme.ts?v=Xe7xEfOzlu1YVJsfZagdF
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'w6KJbVhsT8Gjv6cnY_Tc_PqCHZdNUBkX',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:42:03 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'RBj7-jI4Wyv5z-592QCwq5Ds8_TkpubQ',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:42:04 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /favicon.ico
[REQ] GET /
[REQ] GET /
[REQ] GET /src/main.tsx?v=OxdGVVTaCgl2hTdEDFkZB
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=OxdGVVTaCgl2hTdEDFkZB
[REQ] GET /src/index.css?v=OxdGVVTaCgl2hTdEDFkZB
[REQ] GET /src/lib/theme.ts?v=OxdGVVTaCgl2hTdEDFkZB
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'eaxlEIusQx3epH_Xzlc8sy-jO0jNVlPo',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:42:12 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'V6cX0PcPN04d4g8AXwuMkWC7KIUWVjO8',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
6:42:12 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /
[REQ] GET /
[REQ] GET /@vite/client
[REQ] GET /src/main.tsx?v=cFM500KHdCV5oRAMASDwG
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=cFM500KHdCV5oRAMASDwG
[REQ] GET /src/index.css?v=cFM500KHdCV5oRAMASDwG
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/theme.ts?v=cFM500KHdCV5oRAMASDwG
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'pXfmie9cwtR7P75bJIwNriQSeulcbU6-',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:01:16 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] Erreur Supabase: {
  message: 'TypeError: fetch failed',
  details: 'TypeError: fetch failed\n' +
    '    at node:internal/deps/undici/undici:13510:13\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async <anonymous> (/Users/pierre/Downloads/App/V1/Transfert vers cursor/SalonPilot/server/routes/public.ts:150:49)',
  hint: '',
  code: ''
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'wtGgzF032msuRt9Nvp0Xz11Rfegc_N7Y',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:01:16 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /
[REQ] GET /
[REQ] GET /src/main.tsx?v=29QLGj01xZfrsCrIZQtq0
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=29QLGj01xZfrsCrIZQtq0
[REQ] GET /src/index.css?v=29QLGj01xZfrsCrIZQtq0
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/theme.ts?v=29QLGj01xZfrsCrIZQtq0
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'Qdnd4Kd_iqZkn5eIPfvI0lFP72IVCscR',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:01:31 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] Erreur Supabase: {
  message: 'TypeError: fetch failed',
  details: 'TypeError: fetch failed\n' +
    '    at node:internal/deps/undici/undici:13510:13\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async <anonymous> (/Users/pierre/Downloads/App/V1/Transfert vers cursor/SalonPilot/server/routes/public.ts:150:49)',
  hint: '',
  code: ''
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'nmAVLtiy1JrJzokxTNoJAX7LKxcdyWFj',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:01:31 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /
[REQ] GET /
[REQ] GET /src/main.tsx?v=ta10_JY1d5OM8sBNzIFgU
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=ta10_JY1d5OM8sBNzIFgU
[REQ] GET /src/index.css?v=ta10_JY1d5OM8sBNzIFgU
[REQ] GET /src/lib/theme.ts?v=ta10_JY1d5OM8sBNzIFgU
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'yxDr91T7MontzfHviSSPrVANZO1xku3L',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:01:34 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] Erreur Supabase: {
  message: 'TypeError: fetch failed',
  details: 'TypeError: fetch failed\n' +
    '    at node:internal/deps/undici/undici:13510:13\n' +
    '    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n' +
    '    at async <anonymous> (/Users/pierre/Downloads/App/V1/Transfert vers cursor/SalonPilot/server/routes/public.ts:150:49)',
  hint: '',
  code: ''
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'lHyU1jmaLTqybtoj9wavUh3c0EfI0P2O',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:01:34 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: '1kTywm1_QNzkR9UH60WL0-vHOU9nxLTq',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:03:36 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'Jjk93QUmcHbrcwG453tnqiB_AI4VZek-',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:03:42 PM [express] GET /api/auth/user 304 in 3ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /
[REQ] GET /
[REQ] GET /src/main.tsx?v=Qe_Dmc4epTLNfVgewXuqk
[REQ] GET /@react-refresh
[REQ] GET /@vite/client
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/App.tsx?v=Qe_Dmc4epTLNfVgewXuqk
[REQ] GET /src/index.css?v=Qe_Dmc4epTLNfVgewXuqk
[REQ] GET /src/lib/theme.ts?v=Qe_Dmc4epTLNfVgewXuqk
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'D-n9yZHo7XHP67fNFdAy9qUPKt-wZY8J',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:03:47 PM [express] GET /api/auth/user 304 in 28ms :: {"authenticated":false,"user":null,"userType"â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'iFeK9NySybJo2UxLOjiM1wFtxixuUERh',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:03:48 PM [express] GET /api/auth/user 304 in 4ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /
[REQ] GET /
[REQ] GET /src/main.tsx?v=YrqGR75KjEYHssRrfRpcW
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[REQ] GET /src/App.tsx?v=YrqGR75KjEYHssRrfRpcW
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/index.css?v=YrqGR75KjEYHssRrfRpcW
[REQ] GET /src/lib/theme.ts?v=YrqGR75KjEYHssRrfRpcW
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useAuth.ts
[REQ] GET /src/hooks/useUserContext.tsx
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/book.tsx
[REQ] GET /src/pages/book-client.tsx
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/client-login.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-notifications.tsx
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-login.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/dashboard.tsx
[REQ] GET /src/pages/services.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[REQ] GET /src/pages/clients.tsx
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/reset-password.tsx
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /src/components/ui/toast.tsx
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Header.tsx
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Steps.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Hours.tsx
[REQ] GET /src/components/landing/Contact.tsx
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/label.tsx
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /src/components/ui/calendar.tsx
[REQ] GET /src/utils/bookingSlots.ts
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[REQ] GET /src/components/ui/dialog.tsx
[REQ] GET /src/components/ui/switch.tsx
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /src/components/ui/tabs.tsx
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/calendar/utils/layout.ts
[REQ] GET /src/components/ui/table.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/hooks/useReportsData.ts
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /src/components/calendar/DayColumn.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /api/public/salon
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'c9eSVyUXfTCdC06gNacXsss8x1J_WrMG',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:03:51 PM [express] GET /api/auth/user 304 in 0ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gEQkOa_9uVCBhPnTj8zy2X_pQUWS341Z',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:03:52 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /favicon.ico
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'bFt0xkua9DmMXsX0HV5v0Rr7F-44bjc2',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:25:56 PM [express] GET /api/auth/user 304 in 2ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/public/salon
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'yIHeucEoVxaiNkk-V5oZ0JvjOTN87aS5',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:33:11 PM [express] GET /api/auth/user 304 in 4ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'KlPNZZ0FhBifoUJhHwxtWEGfr7XzwDIa',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:41:39 PM [express] GET /api/auth/user 304 in 5ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] GET /favicon.ico
[REQ] POST /api/client/login
[client/login] Email normalisÃ©: Kassy@gmail.com â†’ kassy@gmail.com
[clientAuth] âœ… Session sauvegardÃ©e pour client: client-1762723434708-o4kbf167s
[clientAuth] Session aprÃ¨s save: {
  sessionId: 'gUEPj7ONt_t5bUDl6-vD...',
  hasClient: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762723434708-o4kbf167s
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
8:41:49 PM [express] GET /api/auth/user 200 in 86ms :: {"authenticated":true,"userType":"client","usâ€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: false,
  hasClientSession: true,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Session client dÃ©tectÃ©e: client-1762723434708-o4kbf167s
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vD...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/auth/user] Client trouvÃ©, retour des donnÃ©es
8:41:49 PM [express] GET /api/auth/user 304 in 66ms :: {"authenticated":true,"userType":"client","usâ€¦
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763660217297-14pct8ejh
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763660217297-14pct8ejh - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "startTime": "2025-11-21T08:00:00+00:00",
    "endTime": "2025-11-21T10:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /api/public/salon/stylistes
[GET /api/public/salon/stylistes] Route appelÃ©e
[REQ] GET /api/client/notification-settings
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/notification-settings',
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vD...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /favicon.ico
[REQ] GET /api/client/privacy-settings
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/privacy-settings',
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vD...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vD...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[REQ] GET /favicon.ico
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763660217297-14pct8ejh
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763660217297-14pct8ejh - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "startTime": "2025-11-21T08:00:00+00:00",
    "endTime": "2025-11-21T10:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] GET /api/client/appointments
[isClientAuthenticated] VÃ©rification: {
  path: '/api/client/appointments',
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vD...',
  hasCookies: true,
  hasUserSession: false,
  hasClientSession: true,
  clientId: 'client-1762723434708-o4kbf167s'
}
[GET /api/client/appointments] âœ… Client ID (depuis req.client): client-1762723434708-o4kbf167s
[GET /api/client/appointments] âœ… Client ID (depuis session): client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” Comparaison clientId: {
  'req.client.id': 'client-1762723434708-o4kbf167s',
  'session.clientId': 'client-1762723434708-o4kbf167s',
  correspondent: true
}
[GET /api/client/appointments] Client ID type: string
[GET /api/client/appointments] Client ID length: 30
[GET /api/client/appointments] Client email: kassy@gmail.com
[GET /api/client/appointments] Client complet: {
  "id": "client-1762723434708-o4kbf167s",
  "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "first_name": "Kassandra",
  "last_name": "Pasquier",
  "email": "kassy@gmail.com",
  "phone": "0123456789",
  "preferred_stylist_id": "stylist-1761504151845-kgglkv8h3",
  "notes": "{\"sex\":\"male\"}",
  "created_at": "2025-11-09T21:23:54.708+00:00",
  "updated_at": "2025-11-19T07:24:24.861+00:00",
  "password_hash": "97c94ebe5d767a353b77f3c0ce2d429741f2e8c99473c3c150e2faa3d14c9da6",
  "owner_notes": null
}
[GET /api/client/appointments] ðŸ” Recherche avec client.id: client-1762723434708-o4kbf167s
[GET /api/client/appointments] ðŸ” VÃ©rification directe - Nombre de rendez-vous: 3
[GET /api/client/appointments] ðŸ” Rendez-vous bruts (sans jointures): [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” TOTAL rendez-vous dans la base: 16
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants trouvÃ©s: 3
[GET /api/client/appointments] ðŸ” Rendez-vous correspondants: [
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-19T07:30:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-12T15:00:00+00:00",
    "status": "confirmed"
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "client_id": "client-1762723434708-o4kbf167s",
    "appointment_date": "2025-11-21T08:00:00+00:00",
    "status": "confirmed"
  }
]
[GET /api/client/appointments] ðŸ” Exemples de client_id dans la base: [
  'client-1762463143145-9dxyz1lsf',
  'client-1762723434708-o4kbf167s',
  'client-1762724618040-bkq0kp0ze',
  'client-1762772834221-jpn2kzuw1'
]
[GET /api/client/appointments] âŒ Erreur Supabase (avec jointures): {
  code: '42703',
  details: null,
  hint: null,
  message: 'column services_1.duration_minutes does not exist'
}
[GET /api/client/appointments] ðŸ”„ Tentative de rÃ©cupÃ©ration sans jointures...
[GET /api/client/appointments] ðŸ”„ Enrichissement manuel de 3 rendez-vous
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723645943-a90r2p1mx : Julie Moulin
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1762723435427-t6gcxwg2h : pierre veignat
[GET /api/client/appointments] ðŸ” Service rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : brushing
[GET /api/client/appointments] ðŸ” Styliste rÃ©cupÃ©rÃ© pour appointment-1763660217297-14pct8ejh : Julie Moulin
[GET /api/client/appointments] Nombre de rendez-vous trouvÃ©s (avec jointures): 3
[GET /api/client/appointments] ðŸ” Exemple rendez-vous AVANT transformation:
[GET /api/client/appointments] ðŸ”   id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   services type: object
[GET /api/client/appointments] ðŸ”   services.id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   services.name: brushing
[GET /api/client/appointments] ðŸ”   stylist_id: stylist-1761567120719-0f2lq2164
[GET /api/client/appointments] ðŸ”   stylistes: {"id":"stylist-1761567120719-0f2lq2164","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","first_name":"pierre","last_name":"veignat","email":"sarah@example.com","phone":"+41 79 133 82 40","photo_url":"","specialties":["Homme"],"is_active":true,"created_at":"2025-10-27T12:12:00.719","updated_at":"2025-11-13T18:18:01.359","color":"#10b981"}
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723435427-t6gcxwg2h
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723435427-t6gcxwg2h - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1762723645943-a90r2p1mx
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1762723645943-a90r2p1mx - brushing - Prix: 120
[GET /api/client/appointments] ðŸ” Transformation - appointment.id: appointment-1763660217297-14pct8ejh
[GET /api/client/appointments] ðŸ”   appointment.service_id: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   hasValidService: service-1762205819873-b8cer0w2t
[GET /api/client/appointments] ðŸ”   appointment.services: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData: {"id":"service-1762205819873-b8cer0w2t","salon_id":"salon-c152118c-478b-497b-98db-db37a4c58898","name":"brushing","description":"","price":120,"duration":120,"tags":["Femme"],"created_at":"2025-11-03T21:36:59.873+00:00","updated_at":"2025-11-03T21:36:59.873+00:00","buffer_before":0,"buffer_after":0,"requires_deposit":false}
[GET /api/client/appointments] ðŸ”   serviceData.name: brushing
[GET /api/client/appointments] âœ… Service correct pour rendez-vous: appointment-1763660217297-14pct8ejh - brushing - Prix: 120
[GET /api/client/appointments] Rendez-vous enrichis: [
  {
    "id": "appointment-1762723435427-t6gcxwg2h",
    "startTime": "2025-11-12T15:00:00+00:00",
    "endTime": "2025-11-12T17:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761567120719-0f2lq2164",
      "firstName": "pierre",
      "lastName": "veignat"
    }
  },
  {
    "id": "appointment-1762723645943-a90r2p1mx",
    "startTime": "2025-11-19T07:30:00+00:00",
    "endTime": "2025-11-19T09:30:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  },
  {
    "id": "appointment-1763660217297-14pct8ejh",
    "startTime": "2025-11-21T08:00:00+00:00",
    "endTime": "2025-11-21T10:00:00.000Z",
    "status": "confirmed",
    "notes": null,
    "service": {
      "id": "service-1762205819873-b8cer0w2t",
      "name": "brushing",
      "price": 120,
      "duration": 120
    },
    "stylist": {
      "id": "stylist-1761504151845-kgglkv8h3",
      "firstName": "Julie",
      "lastName": "Moulin"
    }
  }
]
[GET /api/client/appointments] Nombre de rendez-vous aprÃ¨s transformation: 3
[GET /api/client/appointments] âœ… Rendez-vous valides finaux: 3
[REQ] POST /api/client/logout
[REQ] GET /favicon.ico
[REQ] GET /api/public/salon
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
8:42:05 PM [express] GET /api/auth/user 200 in 5ms :: {"authenticated":false,"user":null,"userType":â€¦
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /api/auth/user
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: false,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] Aucune session dÃ©tectÃ©e
[REQ] GET /favicon.ico
8:42:06 PM [express] GET /api/auth/user 304 in 1ms :: {"authenticated":false,"user":null,"userType":â€¦
[REQ] POST /api/salon/login
ðŸ” Debug /api/salon/login - Attempting login for: veignatpierre@gmail.com â†’ veignatpierre@gmail.com
[SalonAuthService] Email normalisÃ© pour login: veignatpierre@gmail.com â†’ veignatpierre@gmail.com
[salon/login] salonId depuis result.salon: salon-c152118c-478b-497b-98db-db37a4c58898
[salon/login] âš ï¸ PrÃ©fixe "salon-" retirÃ©: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ c152118c-478b-497b-98db-db37a4c58898
[salon/login] âœ… SalonId attachÃ© Ã  la session: c152118c-478b-497b-98db-db37a4c58898
[salon/login] âœ… Session sauvegardÃ©e pour user: c152118c-478b-497b-98db-db37a4c58898
âœ… Debug /api/salon/login - Session created and saved: gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO
âœ… Debug /api/salon/login - User session: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  firstName: 'Pierre',
  lastName: 'Veignat',
  phone: '+41 79 133 82 40',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
8:42:13 PM [express] POST /api/salon/login 200 in 297ms :: {"success":true,"user":{"id":"c152118c-47â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:14 PM [express] GET /api/auth/user 200 in 67ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:14 PM [express] GET /api/auth/user 304 in 54ms :: {"authenticated":true,"userType":"owner","useâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
8:42:14 PM [express] GET /api/salon 304 in 143ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:14 PM [express] GET /api/auth/user 304 in 63ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T19:42:14.692Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[DEBUG] ðŸ” Original URL: /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[GET /api/salons/:salonId/stylistes] salonId: c152118c-478b-497b-98db-db37a4c58898 â†’ normalized: c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] Affichage de tous les stylistes pour owner
[REQ] GET /api/clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/clients] Utilisateur: authentifiÃ©
[GET /api/clients] salonId depuis req.user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId final utilisÃ©: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] RÃ©cupÃ©ration du salon depuis la base de donnÃ©es...
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/hours
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/hours] 2025-11-20T19:42:14.732Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/services
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/services /api/salons/c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/c152118c-478b-497b-98db-db37a4c58898/services
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
8:42:14 PM [express] GET /api/salon 304 in 69ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] DonnÃ©es brutes reÃ§ues de Supabase: [
  {
    "id": "stylist-1762206054932-ioq2gnyww",
    "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "first_name": "Nathan",
    "last_name": "Rebetez",
    "email": "",
    "phone": "+0123456789",
    "photo_url": "",
    "specialties": [
      "Enfant",
      "Homme"
    ],
    "is_active": false,
    "created_at": "2025-11-03T21:40:54.932",
    "updated_at": "2025-11-13T20:49:30.398",
    "color": "#6f6f6f"
  }
]
[STYLISTES API] Retour de 3 styliste(s) pour salon c152118c-478b-497b-98db-db37a4c58898 (owner)
[STYLISTES API] Exemple de donnÃ©es mappÃ©es: {
  "id": "stylist-1762206054932-ioq2gnyww",
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "firstName": "Nathan",
  "lastName": "Rebetez",
  "name": "Nathan Rebetez",
  "email": "",
  "phone": "+0123456789",
  "photoUrl": "",
  "specialties": [
    "Enfant",
    "Homme"
  ],
  "isActive": false,
  "color": "#6f6f6f",
  "createdAt": "2025-11-03T21:40:54.932",
  "updatedAt": "2025-11-13T20:49:30.398"
}
8:42:14 PM [express] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes 304 in 159ms :: â€¦
[GET /api/clients] âœ… Salon ID rÃ©cupÃ©rÃ© depuis la DB pour user_id: c152118c-478b-497b-98db-db37a4c58898 â†’ salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] Salon ID final utilisÃ© pour la requÃªte: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: c152118c-478b-497b-98db-db37a4c58898
8:42:14 PM [express] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/services 304 in 123ms :: [â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:14 PM [express] GET /api/auth/user 304 in 98ms :: {"authenticated":true,"userType":"owner","useâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[GET /api/clients] âœ… 5 clients trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Retour de 5 client(s)
8:42:14 PM [express] GET /api/clients 304 in 221ms :: [{"id":"client-1762772834221-jpn2kzuw1","salonâ€¦
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 16 rendez-vous trouvÃ©s
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T19:42:22.072Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:22 PM [express] GET /api/auth/user 304 in 140ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 7 rendez-vous trouvÃ©s
[REQ] GET /api/services
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:23 PM [express] GET /api/auth/user 304 in 48ms :: {"authenticated":true,"userType":"owner","useâ€¦
8:42:23 PM [express] GET /api/services 304 in 58ms :: [{"id":"test-service-1","salon_id":"salon-c152â€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:24 PM [express] GET /api/auth/user 304 in 70ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:25 PM [express] GET /api/auth/user 304 in 47ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=week&date=2025-11-20
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'week',
  dateParam: '2025-11-20'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:26 PM [express] GET /api/auth/user 304 in 50ms :: {"authenticated":true,"userType":"owner","useâ€¦
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-20',
  referenceDate: '2025-11-19T23:00:00.000Z',
  referenceDateLocal: '2025-11-20',
  view: 'week'
}
[GET /api/salons/:salonId/reports] PÃ©riode semaine calculÃ©e: {
  referenceDate: '2025-11-19T23:00:00.000Z',
  dayOfWeek: 4,
  daysFromMonday: 3,
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'week',
  dateParam: '2025-11-20',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  previousPeriodStart: '2025-11-09T23:00:00.000Z',
  previousPeriodEnd: '2025-11-16T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: {
  count: 7,
  sample: [
    {
      id: 'appointment-1762723645943-a90r2p1mx',
      date: '2025-11-19T07:30:00+00:00',
      service_id: 'service-1762205819873-b8cer0w2t'
    },
    {
      id: 'appointment-1763218217647-zmru4u71o',
      date: '2025-11-21T08:00:00+00:00',
      service_id: 'test-service-1'
    },
    {
      id: 'appointment-1763596027783-ywdjrd6by',
      date: '2025-11-21T15:30:00+00:00',
      service_id: 'service-test-1'
    }
  ]
}
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: {
  appointmentsCount: 7,
  periodRevenue: 500,
  samplePrices: [
    { service_id: 'service-1762205819873-b8cer0w2t', price: 120 },
    { service_id: 'test-service-1', price: 35 },
    { service_id: 'service-test-1', price: 50 }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  view: 'week',
  appointmentsCount: 7
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 500,
  chartTotalRevenue: 500,
  revenueMatch: true,
  kpiAppointments: 7,
  chartTotalAppointments: 7,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: {
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  count: 2
}
[GET /api/salons/:salonId/reports] âœ… Stylistes rÃ©cupÃ©rÃ©s par IDs: {
  count: 2,
  stylists: [
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      rawName: undefined,
      firstName: 'Julie',
      lastName: 'Moulin',
      constructedName: 'Julie Moulin',
      allFields: [Array]
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      rawName: undefined,
      firstName: 'pierre',
      lastName: 'veignat',
      constructedName: 'pierre veignat',
      allFields: [Array]
    }
  ]
}
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 7,
  withStylistId: 7,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 7,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 3,
      revenue: 290
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'week',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 2,
  topStylists: [
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 3,
      revenue: 290
    }
  ],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: [
  { name: 'Coupe ModifiÃ©e', bookings: 3 },
  { name: 'brushing', bookings: 2 },
  { name: 'Service ModifiÃ©', bookings: 1 },
  { name: 'Soins du front', bookings: 1 }
]
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 7,
  previousPeriodTotal: 9,
  appointmentsTrend: -22.2,
  periodRevenue: 500,
  previousPeriodRevenue: 530,
  revenueTrend: -5.7,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 2,
  newClientsTrend: -100
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'week',
  dateParam: '2025-11-20',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalAppointments: 7,
  periodRevenue: 500,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: -22.2,
  revenueTrend: -5.7,
  newClientsTrend: -100,
  chartDataLength: 7,
  chartDataSample: [
    { label: 'Lun', day: 'Lun', revenue: 0, appointments: 0 },
    { label: 'Mar', day: 'Mar', revenue: 0, appointments: 0 },
    { label: 'Mer', day: 'Mer', revenue: 120, appointments: 1 }
  ]
}
[REQ] GET /api/salons/check-stylist-schedule-table
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:27 PM [express] GET /api/auth/user 304 in 57ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] POST /api/auth/verify-salon
[VERIFY] âš¡âš¡âš¡ Route /api/auth/verify-salon appelÃ©e!
[VERIFY] Original URL: /api/auth/verify-salon
[VERIFY] Path: /api/auth/verify-salon
[VERIFY] Session ID: gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO
[VERIFY] Headers cookie: prÃ©sents
[VERIFY] req.session existe? true
[VERIFY] req.session.user existe? true
[VERIFY] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
ðŸ” [VERIFY] VÃ©rification salon pour user: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Configuration Supabase OK
[VERIFY] ðŸ”Ž Recherche du salon avec user_id: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
âœ… [VERIFY] Salon existe dÃ©jÃ : salon-c152118c-478b-497b-98db-db37a4c58898
[VERIFY] DÃ©tails salon: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  user_id: 'c152118c-478b-497b-98db-db37a4c58898'
}
[VERIFY] SalonId normalisÃ©: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Session mise Ã  jour avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:28 PM [express] GET /api/auth/user 304 in 52ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:32 PM [express] GET /api/auth/user 304 in 54ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/reports?view=week&date=2025-11-20
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/reports] RequÃªte reÃ§ue: {
  rawSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  normalizedSalonId: 'c152118c-478b-497b-98db-db37a4c58898',
  userId: 'c152118c-478b-497b-98db-db37a4c58898',
  view: 'week',
  dateParam: '2025-11-20'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:33 PM [express] GET /api/auth/user 304 in 149ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/reports] Salon trouvÃ© avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/reports] Date de rÃ©fÃ©rence: {
  dateParam: '2025-11-20',
  referenceDate: '2025-11-19T23:00:00.000Z',
  referenceDateLocal: '2025-11-20',
  view: 'week'
}
[GET /api/salons/:salonId/reports] PÃ©riode semaine calculÃ©e: {
  referenceDate: '2025-11-19T23:00:00.000Z',
  dayOfWeek: 4,
  daysFromMonday: 3,
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] ðŸ“Š Calcul statistiques pour pÃ©riode: {
  view: 'week',
  dateParam: '2025-11-20',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  previousPeriodStart: '2025-11-09T23:00:00.000Z',
  previousPeriodEnd: '2025-11-16T22:59:59.999Z'
}
[GET /api/salons/:salonId/reports] âœ… Rendez-vous pÃ©riode sÃ©lectionnÃ©e: {
  count: 7,
  sample: [
    {
      id: 'appointment-1762723645943-a90r2p1mx',
      date: '2025-11-19T07:30:00+00:00',
      service_id: 'service-1762205819873-b8cer0w2t'
    },
    {
      id: 'appointment-1763218217647-zmru4u71o',
      date: '2025-11-21T08:00:00+00:00',
      service_id: 'test-service-1'
    },
    {
      id: 'appointment-1763596027783-ywdjrd6by',
      date: '2025-11-21T15:30:00+00:00',
      service_id: 'service-test-1'
    }
  ]
}
[GET /api/salons/:salonId/reports] Services rÃ©cupÃ©rÃ©s: 6
[GET /api/salons/:salonId/reports] Exemple service: { id: 'service-test-1', name: 'Coupe ModifiÃ©e', price: 50 }
[GET /api/salons/:salonId/reports] ðŸ’° Revenu calculÃ©: {
  appointmentsCount: 7,
  periodRevenue: 500,
  samplePrices: [
    { service_id: 'service-1762205819873-b8cer0w2t', price: 120 },
    { service_id: 'test-service-1', price: 35 },
    { service_id: 'service-test-1', price: 50 }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š PrÃ©paration donnÃ©es graphiques: {
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  view: 'week',
  appointmentsCount: 7
}
[GET /api/salons/:salonId/reports] âœ… VÃ©rification cohÃ©rence KPIs/Graphiques: {
  kpiRevenue: 500,
  chartTotalRevenue: 500,
  revenueMatch: true,
  kpiAppointments: 7,
  chartTotalAppointments: 7,
  appointmentsMatch: true
}
[GET /api/salons/:salonId/reports] ðŸ” Tous les stylistes du salon: {
  finalSalonId: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  count: 3,
  allStylists: [
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      is_active: false
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      is_active: true
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      is_active: true
    }
  ],
  error: null
}
[GET /api/salons/:salonId/reports] ðŸ” Stylistes dans les rendez-vous: {
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  count: 2
}
[GET /api/salons/:salonId/reports] âœ… Stylistes rÃ©cupÃ©rÃ©s par IDs: {
  count: 2,
  stylists: [
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      rawName: undefined,
      firstName: 'Julie',
      lastName: 'Moulin',
      constructedName: 'Julie Moulin',
      allFields: [Array]
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      rawName: undefined,
      firstName: 'pierre',
      lastName: 'veignat',
      constructedName: 'pierre veignat',
      allFields: [Array]
    }
  ]
}
[GET /api/salons/:salonId/reports] âœ… Stylistes Ã  utiliser: {
  count: 3,
  stylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ],
  detailedStylists: [
    { id: 'stylist-1762206054932-ioq2gnyww', name: 'Nathan Rebetez' },
    { id: 'stylist-1761504151845-kgglkv8h3', name: 'Julie Moulin' },
    { id: 'stylist-1761567120719-0f2lq2164', name: 'pierre veignat' }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ” Analyse rendez-vous pour top stylistes: {
  totalAppointments: 7,
  withStylistId: 7,
  withoutStylistId: 0,
  uniqueStylistIdsInAppointments: [
    'stylist-1761504151845-kgglkv8h3',
    'stylist-1761567120719-0f2lq2164'
  ],
  stylistIdsInMap: [
    '1762206054932-ioq2gnyww',
    'stylist-1762206054932-ioq2gnyww',
    '1761504151845-kgglkv8h3',
    'stylist-1761504151845-kgglkv8h3',
    '1761567120719-0f2lq2164',
    'stylist-1761567120719-0f2lq2164'
  ]
}
[GET /api/salons/:salonId/reports] ðŸ“Š Correspondances stylistes: {
  matched: 7,
  unmatched: 0,
  stylistStatsAfterProcessing: [
    {
      id: '1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: 'stylist-1762206054932-ioq2gnyww',
      name: 'Nathan Rebetez',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 3,
      revenue: 290
    },
    {
      id: 'stylist-1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 0,
      revenue: 0
    },
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: 'stylist-1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 0,
      revenue: 0
    }
  ]
}
[GET /api/salons/:salonId/reports] ðŸ‘¥ Top stylistes calculÃ©s: {
  view: 'week',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalStylists: 3,
  stylistsWithAppointments: 2,
  topStylists: [
    {
      id: '1761567120719-0f2lq2164',
      name: 'pierre veignat',
      appointments: 4,
      revenue: 210
    },
    {
      id: '1761504151845-kgglkv8h3',
      name: 'Julie Moulin',
      appointments: 3,
      revenue: 290
    }
  ],
  stylistNameMapSize: 6,
  stylistNameMapSample: [
    [ 'stylist-1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ '1762206054932-ioq2gnyww', 'Nathan Rebetez' ],
    [ 'stylist-1761504151845-kgglkv8h3', 'Julie Moulin' ]
  ]
}
[GET /api/salons/:salonId/reports] Services populaires calculÃ©s: [
  { name: 'Coupe ModifiÃ©e', bookings: 3 },
  { name: 'brushing', bookings: 2 },
  { name: 'Service ModifiÃ©', bookings: 1 },
  { name: 'Soins du front', bookings: 1 }
]
[GET /api/salons/:salonId/reports] ðŸ“ˆ Tendances calculÃ©es: {
  totalAppointments: 7,
  previousPeriodTotal: 9,
  appointmentsTrend: -22.2,
  periodRevenue: 500,
  previousPeriodRevenue: 530,
  revenueTrend: -5.7,
  newClientsCount: 0,
  previousPeriodNewClientsCount: 2,
  newClientsTrend: -100
}
[GET /api/salons/:salonId/reports] âœ… DonnÃ©es finales retournÃ©es: {
  view: 'week',
  dateParam: '2025-11-20',
  periodStart: '2025-11-16T23:00:00.000Z',
  periodEnd: '2025-11-23T22:59:59.999Z',
  totalAppointments: 7,
  periodRevenue: 500,
  newClients: 0,
  retentionRate: 60,
  appointmentsTrend: -22.2,
  revenueTrend: -5.7,
  newClientsTrend: -100,
  chartDataLength: 7,
  chartDataSample: [
    { label: 'Lun', day: 'Lun', revenue: 0, appointments: 0 },
    { label: 'Mar', day: 'Mar', revenue: 0, appointments: 0 },
    { label: 'Mer', day: 'Mer', revenue: 120, appointments: 1 }
  ]
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:33 PM [express] GET /api/auth/user 304 in 47ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:34 PM [express] GET /api/auth/user 304 in 50ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:35 PM [express] GET /api/auth/user 304 in 78ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:42:43 PM [express] GET /api/auth/user 304 in 128ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:43:42 PM [express] GET /api/auth/user 304 in 216ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:43:52 PM [express] GET /api/auth/user 304 in 229ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:44:35 PM [express] GET /api/auth/user 304 in 207ms :: {"authenticated":true,"userType":"owner","usâ€¦
8:49:19 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668159965
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668159965&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:49:21 PM [express] GET /api/auth/user 304 in 502ms :: {"authenticated":true,"userType":"owner","usâ€¦
8:50:01 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668201966
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668201966&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:50:02 PM [express] GET /api/auth/user 304 in 171ms :: {"authenticated":true,"userType":"owner","usâ€¦
8:50:41 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668241290
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668241290&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:50:43 PM [express] GET /api/auth/user 304 in 294ms :: {"authenticated":true,"userType":"owner","usâ€¦
8:51:25 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668285099
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668285099&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:51:26 PM [express] GET /api/auth/user 304 in 202ms :: {"authenticated":true,"userType":"owner","usâ€¦
8:52:06 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668326290
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668326290&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
8:52:50 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668370864
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668370864&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:52:52 PM [express] GET /api/auth/user 304 in 304ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:52:52 PM [express] GET /api/auth/user 304 in 85ms :: {"authenticated":true,"userType":"owner","useâ€¦
8:53:34 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668414034
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668414034&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:53:34 PM [express] GET /api/auth/user 304 in 169ms :: {"authenticated":true,"userType":"owner","usâ€¦
8:54:58 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763668498533
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668498533&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
8:55:00 PM [express] GET /api/auth/user 304 in 554ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
9:02:03 PM [express] GET /api/auth/user 304 in 513ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
9:02:23 PM [express] GET /api/auth/user 304 in 227ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/main.tsx?v=TYbLB1acCrnS1ifjyA0A0
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@vite/client
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@react-refresh
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/App.tsx?t=1763668498533&v=TYbLB1acCrnS1ifjyA0A0
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763668498533&v=TYbLB1acCrnS1ifjyA0A0
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/theme.ts?v=TYbLB1acCrnS1ifjyA0A0
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/queryClient.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/toaster.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/tooltip.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useAuth.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useUserContext.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useClientAuth.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/theme.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/book.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/landing.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/book-client.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/voice.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-login.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-appointments.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/client-dashboard.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-notifications.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-history.tsx
[REQ] GET /src/pages/client-settings.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/salon-register.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/salon-login.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/dashboard.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/stylistes.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/services.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/calendar.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/clients.tsx?t=1763668498533
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/settings.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/reports.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/change-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/hours.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-change-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-reset-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/reset-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/use-toast.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/not-found.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/toast.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/utils.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/lenis.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Header.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Hero.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Features.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Steps.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Stats.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/FAQ.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Hours.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Booking.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Contact.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Footer.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/SEO.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/floating-chatbot.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/card.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/button.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/label.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/textarea.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/calendar.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/utils/bookingSlots.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/accordion.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ProgressSteps.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/badge.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/dialog.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/client-navigation.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/separator.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ClientRouteGuard.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/switch.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/select.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/navigation.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/authUtils.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/form.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/avatar.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/color-picker.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/tabs.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/stylistColors.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/calendar/utils/layout.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/table.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/logger.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useReportRange.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useReportsData.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/skeleton.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/reports/TopServices.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/reports/TopStylists.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/popover.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/Container.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/Reveal.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/MagneticButton.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/Parallax.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/utils/formatSalonHours.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/seo.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/DayColumn.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
9:02:28 PM [express] GET /api/auth/user 304 in 357ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
9:02:28 PM [express] GET /api/auth/user 304 in 222ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/clients] Utilisateur: authentifiÃ©
[GET /api/clients] salonId depuis req.user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId final utilisÃ©: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] RÃ©cupÃ©ration du salon depuis la base de donnÃ©es...
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
9:02:29 PM [express] GET /api/salon 304 in 161ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes
[GET /api/salons/:salonId/stylistes] salonId: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ normalized: c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] Affichage de tous les stylistes pour owner
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T20:02:29.098Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Salon ID rÃ©cupÃ©rÃ© depuis la DB pour user_id: c152118c-478b-497b-98db-db37a4c58898 â†’ salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] Salon ID final utilisÃ© pour la requÃªte: salon-c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] DonnÃ©es brutes reÃ§ues de Supabase: [
  {
    "id": "stylist-1762206054932-ioq2gnyww",
    "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "first_name": "Nathan",
    "last_name": "Rebetez",
    "email": "",
    "phone": "+0123456789",
    "photo_url": "",
    "specialties": [
      "Enfant",
      "Homme"
    ],
    "is_active": false,
    "created_at": "2025-11-03T21:40:54.932",
    "updated_at": "2025-11-13T20:49:30.398",
    "color": "#6f6f6f"
  }
]
[STYLISTES API] Retour de 3 styliste(s) pour salon salon-c152118c-478b-497b-98db-db37a4c58898 (owner)
[STYLISTES API] Exemple de donnÃ©es mappÃ©es: {
  "id": "stylist-1762206054932-ioq2gnyww",
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "firstName": "Nathan",
  "lastName": "Rebetez",
  "name": "Nathan Rebetez",
  "email": "",
  "phone": "+0123456789",
  "photoUrl": "",
  "specialties": [
    "Enfant",
    "Homme"
  ],
  "isActive": false,
  "color": "#6f6f6f",
  "createdAt": "2025-11-03T21:40:54.932",
  "updatedAt": "2025-11-13T20:49:30.398"
}
9:02:29 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylistes 304 in 330â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
9:02:29 PM [express] GET /api/auth/user 304 in 667ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… 5 clients trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Retour de 5 client(s)
9:02:29 PM [express] GET /api/clients 304 in 859ms :: [{"id":"client-1762772834221-jpn2kzuw1","salonâ€¦
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 16 rendez-vous trouvÃ©s
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
10:41:41 PM [express] GET /api/auth/user 304 in 1615ms :: {"authenticated":true,"userType":"owner","uâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:00:15 PM [express] GET /api/auth/user 304 in 828ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:00:26 PM [express] GET /api/auth/user 304 in 1185ms :: {"authenticated":true,"userType":"owner","uâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:00:57 PM [express] GET /api/auth/user 304 in 211ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:08:35 PM [express] GET /api/auth/user 304 in 508ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:08:43 PM [express] GET /api/auth/user 304 in 322ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:08:52 PM [express] GET /api/auth/user 304 in 218ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:08:56 PM [express] GET /api/auth/user 304 in 204ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:09:16 PM [express] GET /api/auth/user 304 in 447ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/hours
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/hours] 2025-11-20T22:09:51.385Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:09:51.413Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
11:09:51 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services 304 in 330mâ€¦
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:09:51 PM [express] GET /api/auth/user 304 in 292ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 7 rendez-vous trouvÃ©s
[REQ] DELETE /api/appointments/appointment-1763596027783-ywdjrd6by
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DELETE /api/appointments/:id] Suppression du rendez-vous: appointment-1763596027783-ywdjrd6by
[DELETE /api/appointments/:id] âœ… Rendez-vous supprimÃ© avec succÃ¨s: appointment-1763596027783-ywdjrd6by
[DELETE /api/appointments/:id] ðŸ“§ Envoi de la notification d'annulation...
[Notifications] [MOCK EMAIL] Envoi Ã  colette@gmail.com : Annulation de votre rendez-vous - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[DELETE /api/appointments/:id] âœ… Notification envoyÃ©e avec succÃ¨s
11:09:58 PM [express] DELETE /api/appointments/appointment-1763596027783-ywdjrd6by 200 in 494ms :: {"â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:09:58.926Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 6 rendez-vous trouvÃ©s
11:10:01 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763676601348
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676601348&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-23T23:00:00.000Z&endDate=2025-11-30T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:01.601Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 0 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-30T23:00:00.000Z&endDate=2025-12-07T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:03.543Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 0 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-09T23:00:00.000Z&endDate=2025-11-16T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:08.046Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 9 rendez-vous trouvÃ©s
[REQ] DELETE /api/appointments/appointment-1762776110596-5jprb0lbv
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DELETE /api/appointments/:id] Suppression du rendez-vous: appointment-1762776110596-5jprb0lbv
[DELETE /api/appointments/:id] âœ… Rendez-vous supprimÃ© avec succÃ¨s: appointment-1762776110596-5jprb0lbv
[DELETE /api/appointments/:id] ðŸ“§ Envoi de la notification d'annulation...
[Notifications] [MOCK EMAIL] Envoi Ã  colette@gmail.com : Annulation de votre rendez-vous - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[DELETE /api/appointments/:id] âœ… Notification envoyÃ©e avec succÃ¨s
11:10:23 PM [express] DELETE /api/appointments/appointment-1762776110596-5jprb0lbv 200 in 366ms :: {"â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-09T23:00:00.000Z&endDate=2025-11-16T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:23.593Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 8 rendez-vous trouvÃ©s
[REQ] DELETE /api/appointments/appointment-1762725682303-7z342e868
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DELETE /api/appointments/:id] Suppression du rendez-vous: appointment-1762725682303-7z342e868
[DELETE /api/appointments/:id] âœ… Rendez-vous supprimÃ© avec succÃ¨s: appointment-1762725682303-7z342e868
[DELETE /api/appointments/:id] ðŸ“§ Envoi de la notification d'annulation...
[Notifications] [MOCK EMAIL] Envoi Ã  sachamoney@test.com : Annulation de votre rendez-vous - les cheveux au vent
[Notifications] [MOCK EMAIL] Contenu: <!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
    .container { max-width: 600px; margin: 0 auto; padding:...
[DELETE /api/appointments/:id] âœ… Notification envoyÃ©e avec succÃ¨s
11:10:30 PM [express] DELETE /api/appointments/appointment-1762725682303-7z342e868 200 in 355ms :: {"â€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-09T23:00:00.000Z&endDate=2025-11-16T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:30.191Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 7 rendez-vous trouvÃ©s
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/appointments?startDate=2025-11-16T23:00:00.000Z&endDate=2025-11-23T22:59:59.999Z
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:35.672Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 6 rendez-vous trouvÃ©s
11:10:38 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763676638988
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676638988&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:10:50 PM [express] GET /api/auth/user 304 in 193ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:10:52.148Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:10:52 PM [express] GET /api/auth/user 304 in 102ms :: {"authenticated":true,"userType":"owner","usâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
11:10:52 PM [express] GET /api/salon 304 in 144ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 13 rendez-vous trouvÃ©s
[REQ] GET /api/public/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:10:53 PM [express] GET /api/auth/user 304 in 97ms :: {"authenticated":true,"userType":"owner","useâ€¦
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[REQ] GET /favicon.ico
[REQ] GET /api/public/salon/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon/stylistes] Route appelÃ©e
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[REQ] GET /api/public/salon/availability?date=2025-11-21&serviceId=service-test-1&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 5
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 5: [
  {
    day_of_week: 5,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 5,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/public/salon/availability?date=2025-11-26&serviceId=service-test-1&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 3
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 3,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 3: [
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 3: [
  {
    day_of_week: 3,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 3
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 3,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 3,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 3: [
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 3: [
  {
    day_of_week: 3,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 3,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
11:11:10 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763676670355
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676670355&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
11:11:23 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763676683666
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676683666&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
11:11:38 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763676698334
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676698334&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
11:11:46 PM [vite] hmr update /src/pages/clients.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/clients.tsx?t=1763676706307
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676706307&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:12:05 PM [express] GET /api/auth/user 304 in 661ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:12:07 PM [express] GET /api/auth/user 304 in 134ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:12:07 PM [express] GET /api/auth/user 304 in 133ms :: {"authenticated":true,"userType":"owner","usâ€¦
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
11:12:07 PM [express] GET /api/salon 304 in 221ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[REQ] POST /api/auth/verify-salon
[VERIFY] âš¡âš¡âš¡ Route /api/auth/verify-salon appelÃ©e!
[VERIFY] Original URL: /api/auth/verify-salon
[VERIFY] Path: /api/auth/verify-salon
[VERIFY] Session ID: gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO
[VERIFY] Headers cookie: prÃ©sents
[VERIFY] req.session existe? true
[VERIFY] req.session.user existe? true
[VERIFY] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
ðŸ” [VERIFY] VÃ©rification salon pour user: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Configuration Supabase OK
[VERIFY] ðŸ”Ž Recherche du salon avec user_id: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/auth/user
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:12:09 PM [express] GET /api/auth/user 304 in 67ms :: {"authenticated":true,"userType":"owner","useâ€¦
âœ… [VERIFY] Salon existe dÃ©jÃ : salon-c152118c-478b-497b-98db-db37a4c58898
[VERIFY] DÃ©tails salon: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  user_id: 'c152118c-478b-497b-98db-db37a4c58898'
}
[VERIFY] SalonId normalisÃ©: c152118c-478b-497b-98db-db37a4c58898
[VERIFY] âœ… Session mise Ã  jour avec salonId: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:12:11 PM [express] GET /api/auth/user 304 in 54ms :: {"authenticated":true,"userType":"owner","useâ€¦
11:12:55 PM [vite] hmr update /src/pages/book.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/book.tsx?t=1763676775482
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676775482&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
11:13:05 PM [vite] hmr update /src/pages/book-client.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/book-client.tsx?t=1763676785650
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676785650&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
11:13:21 PM [vite] hmr update /src/pages/dashboard.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/dashboard.tsx?t=1763676801935
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676801935&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:13:31 PM [express] GET /api/auth/user 304 in 273ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:13:36 PM [express] GET /api/auth/user 304 in 262ms :: {"authenticated":true,"userType":"owner","usâ€¦
11:14:23 PM [vite] hmr update /src/pages/book-client.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
11:14:23 PM [vite] hmr update /src/pages/book.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
11:14:23 PM [vite] hmr update /src/pages/dashboard.tsx, /src/index.css?v=dwq4iL9jazE1wL0E04BCX
[REQ] GET /src/pages/book-client.tsx?t=1763676863248
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676863248&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/book.tsx?t=1763676863255
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676863255&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/dashboard.tsx?t=1763676863257
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/index.css?t=1763676863257&v=dwq4iL9jazE1wL0E04BCX
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:14:25 PM [express] GET /api/auth/user 304 in 240ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
11:15:01 PM [express] GET /api/salon 304 in 606ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c5889â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:15:01 PM [express] GET /api/auth/user 304 in 651ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /favicon.ico
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:15:02 PM [express] GET /api/auth/user 304 in 397ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/public/salon/availability?date=2025-11-25&serviceId=service-test-1&stylistId=none
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 2
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 2,
    start_time: null,
    end_time: null,
    is_available: false
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 2: []
[getValidIntervalsForDay] â„¹ï¸ Aucun horaire styliste spÃ©cifique, utilisation des horaires salon uniquement
[getValidIntervalsForDay]   Intervalle salon: 08:30-12:00
[getValidIntervalsForDay]   Intervalle salon: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (salon uniquement): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 2
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 2,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 2,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 2,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:15 (555 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (555) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:45 (585 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (585) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:15 (615 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (615) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:45 (645 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (645) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:15 (675 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (675) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:45 (705 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (705) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:45 (825 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (825) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:15 (855 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (855) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:45 (885 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (885) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:15 (915 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (915) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:45 (945 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (945) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:15 (975 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (975) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:45 (1005 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1005) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:15 (1035 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1035) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:45 (1065 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h45min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1065) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:15 (1095 min)
[isSlotValid] DurÃ©e du rendez-vous: 45 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h15min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1095) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:15:17 PM [express] GET /api/auth/user 304 in 134ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /book
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/main.tsx?v=D1cdvMCssHG1U0us5a-8x
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@vite/client
[REQ] GET /@react-refresh
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/theme.ts?v=D1cdvMCssHG1U0us5a-8x
[REQ] GET /src/App.tsx?t=1763676863257&v=D1cdvMCssHG1U0us5a-8x
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/vite/dist/client/env.mjs
[REQ] GET /src/index.css?t=1763676863257&v=D1cdvMCssHG1U0us5a-8x
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-dom_client.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/wouter.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/queryClient.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@tanstack_react-query.js?v=19851b3b
[REQ] GET /src/components/ui/toaster.tsx
[REQ] GET /src/hooks/useAuth.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/tooltip.tsx
[REQ] GET /src/hooks/useUserContext.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useClientAuth.tsx
[REQ] GET /src/lib/theme.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/book-client.tsx?t=1763676863248
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/voice.tsx
[REQ] GET /src/pages/book.tsx?t=1763676863255
[REQ] GET /src/pages/client-appointments.tsx
[REQ] GET /src/pages/landing.tsx
[REQ] GET /src/pages/client-login.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-notifications.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-dashboard.tsx
[REQ] GET /src/pages/dashboard.tsx?t=1763676863257
[REQ] GET /src/pages/client-settings.tsx
[REQ] GET /src/pages/salon-register.tsx
[REQ] GET /src/pages/client-history.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/salon-login.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/client-register.tsx
[REQ] GET /src/pages/clients.tsx?t=1763676706307
[REQ] GET /src/pages/reports.tsx
[REQ] GET /src/pages/stylistes.tsx
[REQ] GET /src/pages/calendar.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/services.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/settings.tsx
[REQ] GET /src/pages/client-reset-password.tsx
[REQ] GET /src/pages/client-change-password.tsx
[REQ] GET /src/pages/hours.tsx
[REQ] GET /src/pages/change-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/reset-password.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/pages/not-found.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-WOOG5QLI.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-QCHXOAYK.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-RPCDYKBN.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-KBTYAULA.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/toast.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/use-toast.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-tooltip.js?v=19851b3b
[REQ] GET /src/lib/utils.ts
[REQ] GET /src/components/ui/button.tsx
[REQ] GET /src/components/ui/card.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/label.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/textarea.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/lucide-react.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/date-fns.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/date-fns_locale.js?v=19851b3b
[REQ] GET /src/components/ui/calendar.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/utils/bookingSlots.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/accordion.tsx
[REQ] GET /src/components/ProgressSteps.tsx
[REQ] GET /src/components/floating-chatbot.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/input.tsx
[REQ] GET /src/components/ui/badge.tsx
[REQ] GET /src/components/ui/dialog.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/client-navigation.tsx
[REQ] GET /src/lib/lenis.ts
[REQ] GET /src/components/landing/Steps.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Hero.tsx
[REQ] GET /src/components/landing/DashboardShowcase.tsx
[REQ] GET /src/components/landing/Header.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Features.tsx
[REQ] GET /src/components/landing/Stats.tsx
[REQ] GET /src/components/landing/Hours.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/SEO.tsx
[REQ] GET /src/components/landing/FAQ.tsx
[REQ] GET /src/components/landing/Contact.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/landing/Booking.tsx
[REQ] GET /src/components/landing/Footer.tsx
[REQ] GET /src/components/ui/switch.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/separator.tsx
[REQ] GET /src/components/navigation.tsx
[REQ] GET /src/components/ClientRouteGuard.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/select.tsx
[REQ] GET /src/lib/authUtils.ts
[REQ] GET /src/components/ui/form.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/avatar.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@hookform_resolvers_zod.js?v=19851b3b
[REQ] GET /src/components/ui/table.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-hook-form.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/shared/schema.ts
[REQ] GET /src/hooks/useReportsData.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/hooks/useReportRange.ts
[REQ] GET /src/components/reports/TopStylists.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/recharts.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/skeleton.tsx
[REQ] GET /src/components/reports/TopServices.tsx
[REQ] GET /src/components/ui/tabs.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/ui/color-picker.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/zod.js?v=19851b3b
[REQ] GET /src/components/calendar/CalendarGrid.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/stylistColors.ts
[REQ] GET /src/components/calendar/CalendarLegend.tsx
[REQ] GET /src/calendar/utils/layout.ts
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/lib/logger.ts
[REQ] GET /src/components/ui/popover.tsx
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-toast.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/class-variance-authority.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/clsx.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/tailwind-merge.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-R5YVGTHA.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-26AQ2U4J.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-CCZRIP46.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-FO7K3TKB.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-HSXLETPZ.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-5AJU3CG7.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-slot.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-EVLBUYTV.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-OLWLIEH3.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-VRF373B3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-BOL2CCOG.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-label.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-IIGUYIAY.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-O42U6HQT.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-7RUGVAIV.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/react-day-picker.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-accordion.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/framer-motion.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-dialog.js?v=19851b3b
[REQ] GET /src/components/ui/Container.tsx
[REQ] GET /src/components/ui/Reveal.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/lenis.js?v=19851b3b
[REQ] GET /src/components/ui/Parallax.tsx
[REQ] GET /src/components/ui/MagneticButton.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/utils/formatSalonHours.ts
[REQ] GET /src/lib/seo.ts
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-switch.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-separator.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-select.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-4BFJKWC4.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-avatar.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-orm.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-zod.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/drizzle-orm_pg-core.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-tabs.js?v=19851b3b
[REQ] GET /src/components/calendar/DayColumn.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-WGQNECLP.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-U7P2NEEE.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/@radix-ui_react-popover.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-O2TAHQ3S.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-4RO2SXZU.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-HPKT35ZE.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-43G6IMPT.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-GAH2UDO3.js?v=19851b3b
[REQ] GET /@fs/Users/pierre/Downloads/App/V1/Transfert%20vers%20cursor/SalonPilot/node_modules/.vite/deps/chunk-VKUWRSEE.js?v=19851b3b
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /src/components/calendar/CalendarTooltip.tsx
[REQ] GET /src/components/calendar/CalendarEvent.tsx
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/public/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[REQ] GET /api/public/salon/stylistes
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/closed-dates
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/stylist-hours
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[DEBUG] ðŸ” Original URL: /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/public/salon/stylistes] Route appelÃ©e
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/closed-dates] Recherche dates avec IDs possibles: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/public/salon] Salons rÃ©cupÃ©rÃ©s: [
  {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  }
]
[GET /api/public/salon] Salon trouvÃ©: {
  id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
  name: 'les cheveux au vent',
  salonId: 'salon-c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/services] âœ… 6 services trouvÃ©s pour salonId: salon-c152118c-478b-497b-98db-db37a4c58898
11:15:19 PM [express] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/services 200 in 153mâ€¦
[REQ] GET /api/salons/salon-c152118c-478b-497b-98db-db37a4c58898/hours
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/hours] 2025-11-20T22:15:19.893Z - rawId: salon-c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:15:19 PM [express] GET /api/auth/user 200 in 142ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/public/salon] âœ… Horaires rÃ©cupÃ©rÃ©s depuis salon_hours: 9
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon] salonResponse.id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] RÃ©ponse envoyÃ©e: {
  "salon": {
    "id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "name": "les cheveux au vent",
    "address": "rue numa, Chaux de fonds",
    "phone": "+41 79 133 07 50",
    "email": "veignatpierre@gmail.com"
  },
  "hours": [
    {
      "day_of_week": 2,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 2,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 3,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 4,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "08:30:00",
      "close_time": "12:00:00",
      "is_closed": false
    },
    {
      "day_of_week": 5,
      "open_time": "13:00:00",
      "close_time": "18:30:00",
      "is_closed": false
    },
    {
      "day_of_week": 6,
      "open_time": "09:00:00",
      "close_time": "12:00:00",
      "is_closed": false
    }
  ]
}
[GET /api/public/salon] salon.id value: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon] salon.id type: string
[GET /api/public/salon/stylistes] Salon ID rÃ©cupÃ©rÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/public/salon/stylistes] Essai avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/closed-dates] âœ… Dates trouvÃ©es avec ID: salon-c152118c-478b-497b-98db-db37a4c58898 nombre: 15
[GET /api/salons/:salonId/closed-dates] ðŸ“¤ DonnÃ©es retournÃ©es: [
  {
    id: 'd20dc398-4a36-40e8-b30b-3475a13c474c',
    date: '2025-11-19',
    reason: 'JDV',
    stylist_id: 'stylist-1761567120719-0f2lq2164',
    hasEncodedStylist: true
  },
  {
    id: '19cb9b7d-2151-428b-9f53-0178d5415907',
    date: '2025-12-22',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '73c88c1d-b6af-4c5c-95d6-14edb3b4088e',
    date: '2025-12-23',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '51338cdd-faa8-4c0d-bfd4-809ff66cb6aa',
    date: '2025-12-24',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'b7d67135-2a0e-40cf-a02e-25a5a2f0f406',
    date: '2025-12-25',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '24240a44-6614-4c48-8b10-eee68a16eade',
    date: '2025-12-26',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'fd1a92ff-b52b-4dd0-b520-5ec3a574e8a4',
    date: '2025-12-27',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '39e2a650-ee06-44c1-be9f-1a2d0a0c8c49',
    date: '2025-12-28',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'f6f9e3d3-f017-40c9-bb67-fb22766452da',
    date: '2025-12-29',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'efa35aa7-a8a1-4c0a-8fff-36f99cc7639d',
    date: '2025-12-30',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '7c0398cc-871b-4fed-8538-8bda8b08e043',
    date: '2025-12-31',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'e0dbf653-2971-4c69-a436-c698a4a3c867',
    date: '2026-01-01',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: 'bd8a21b7-c85a-42eb-b7e2-e41cccb75292',
    date: '2026-01-02',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '05893cae-6774-4bcc-81e1-4add788df609',
    date: '2026-01-03',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  },
  {
    id: '376ebe0d-38f1-4d40-af78-61a89c2cbba2',
    date: '2026-01-04',
    reason: 'noel',
    stylist_id: undefined,
    hasEncodedStylist: false
  }
]
[GET /api/salons/:salonId/hours] ðŸ” ID rÃ©el du salon trouvÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] ðŸ” IDs Ã  essayer: [
  'salon-c152118c-478b-497b-98db-db37a4c58898',
  'c152118c-478b-497b-98db-db37a4c58898',
  'salon-c152118c-478b-497b-98db-db37a4c58898'
]
[GET /api/salons/:salonId/hours] Essai avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/public/salon/stylistes] âœ… Stylistes trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898 â†’ 2
[GET /api/public/salon/stylistes] Stylistes bruts trouvÃ©s: 2
[GET /api/public/salon/stylistes] Stylistes mappÃ©s retournÃ©s: 2
[GET /api/salons/:salonId/hours] Table opening_hours n'existe pas pour ID salon-c152118c-478b-497b-98db-db37a4c58898, essai avec salon_hours...
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/salons/:salonId/hours] âœ… 9 horaires trouvÃ©s avec ID: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/hours] âœ… SuccÃ¨s - 9 horaires trouvÃ©s
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:15:20 PM [express] GET /api/auth/user 200 in 112ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/salon
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
11:15:20 PM [express] GET /api/salon 304 in 52ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:15:20 PM [express] GET /api/auth/user 304 in 59ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/public/salon/availability?date=2025-11-25&serviceId=test-service-1&stylistId=stylist-1761567120719-0f2lq2164
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 2
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 2,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 2,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 2,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:00 (540 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (540) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:30 (570 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (570) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:00 (600 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (600) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:30 (690 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (690) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:30 (810 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (810) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (810) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:00 (840 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (840) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (840) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:30 (870 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (870) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (870) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:00 (900 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:30 (930 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:00 (960 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:30 (990 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:00 (1020 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:30 (1050 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:00 (1080 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 18:00 (1080 min) - 18:30 (1110 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1080) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1080) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:16:04 PM [express] GET /api/auth/user 304 in 220ms :: {"authenticated":true,"userType":"owner","usâ€¦
[REQ] GET /api/public/salon/availability?date=2025-11-25&serviceId=test-service-1
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 2
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 2,
    start_time: null,
    end_time: null,
    is_available: false
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 2: []
[getValidIntervalsForDay] â„¹ï¸ Aucun horaire styliste spÃ©cifique, utilisation des horaires salon uniquement
[getValidIntervalsForDay]   Intervalle salon: 08:30-12:00
[getValidIntervalsForDay]   Intervalle salon: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (salon uniquement): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:00 (540 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (540) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:30 (570 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (570) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:00 (600 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (600) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:30 (690 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (690) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:30 (810 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (810) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (810) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:00 (840 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (840) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (840) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:30 (870 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (870) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (870) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:00 (900 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:30 (930 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:00 (960 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:30 (990 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:00 (1020 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:30 (1050 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:00 (1080 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 18:00 (1080 min) - 18:30 (1110 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1080) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1080) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[getValidIntervalsForDay] Calcul des intervalles valides pour jour 2
[getValidIntervalsForDay] Horaires salon reÃ§us: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 3,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 4,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 5,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  },
  {
    day_of_week: 6,
    open_time: '09:00:00',
    close_time: '12:00:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste reÃ§us: [
  {
    day_of_week: 2,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 2,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay] Horaires salon filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    open_time: '08:30:00',
    close_time: '12:00:00',
    is_closed: false
  },
  {
    day_of_week: 2,
    open_time: '13:00:00',
    close_time: '18:30:00',
    is_closed: false
  }
]
[getValidIntervalsForDay] Horaires styliste filtrÃ©s pour jour 2: [
  {
    day_of_week: 2,
    start_time: '08:30:00',
    end_time: '12:00:00',
    is_available: true
  },
  {
    day_of_week: 2,
    start_time: '13:00:00',
    end_time: '18:30:00',
    is_available: true
  }
]
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 08:30-12:00
[getValidIntervalsForDay]   Calcul intersection: salon 08:30-12:00 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 08:30-12:00
[getValidIntervalsForDay]   âŒ Pas d'intersection
[getValidIntervalsForDay]   Calcul intersection: salon 13:00-18:30 Ã— styliste 13:00-18:30
[getValidIntervalsForDay]   âœ… Intersection trouvÃ©e: 13:00-18:30
[getValidIntervalsForDay] âœ… Intervalles finaux (aprÃ¨s fusion): [ { start: '08:30', end: '12:00' }, { start: '13:00', end: '18:30' } ]
[isSlotValid] CrÃ©neau Ã  valider: 08:30 (510 min) - 09:00 (540 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (510) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (540) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:00 (540 min) - 09:30 (570 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (540) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (570) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 09:30 (570 min) - 10:00 (600 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (570) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (600) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:00 (600 min) - 10:30 (630 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (600) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (630) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 10:30 (630 min) - 11:00 (660 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (630) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (660) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:00 (660 min) - 11:30 (690 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (660) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (690) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 11:30 (690 min) - 12:00 (720 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (690) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (720) <= Fin intervalle (720) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 08:30-12:00
[isSlotValid] CrÃ©neau Ã  valider: 13:00 (780 min) - 13:30 (810 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (810) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 1h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (780) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (810) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 13:30 (810 min) - 14:00 (840 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (840) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (810) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (840) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:00 (840 min) - 14:30 (870 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (870) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 2h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (840) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (870) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 14:30 (870 min) - 15:00 (900 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (870) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (900) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:00 (900 min) - 15:30 (930 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 3h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (900) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (930) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 15:30 (930 min) - 16:00 (960 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (930) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (960) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:00 (960 min) - 16:30 (990 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 4h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (960) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (990) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 16:30 (990 min) - 17:00 (1020 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (990) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1020) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:00 (1020 min) - 17:30 (1050 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 5h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1020) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1050) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 17:30 (1050 min) - 18:00 (1080 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h0min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1050) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1080) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[isSlotValid] CrÃ©neau Ã  valider: 18:00 (1080 min) - 18:30 (1110 min)
[isSlotValid] DurÃ©e du rendez-vous: 30 minutes
[isSlotValid] Intervalles valides: [ '08:30-12:00', '13:00-18:30' ]
[isSlotValid]   VÃ©rification intervalle 08:30-12:00 (510-720 min)
[isSlotValid]     DÃ©but RDV (1080) >= DÃ©but intervalle (510) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (720) ? false
[isSlotValid]   âŒ CrÃ©neau invalide pour l'intervalle 08:30-12:00
[isSlotValid]     âš ï¸ Le rendez-vous dÃ©passe de 6h30min l'heure de fermeture
[isSlotValid]   VÃ©rification intervalle 13:00-18:30 (780-1110 min)
[isSlotValid]     DÃ©but RDV (1080) >= DÃ©but intervalle (780) ? true
[isSlotValid]     Fin RDV (1110) <= Fin intervalle (1110) ? true
[isSlotValid]   âœ… CrÃ©neau valide dans l'intervalle 13:00-18:30
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:16:12 PM [express] GET /api/auth/user 304 in 96ms :: {"authenticated":true,"userType":"owner","useâ€¦
[REQ] GET /api/salon
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
ðŸ” Debug /api/salon - User Session: Found: c152118c-478b-497b-98db-db37a4c58898
ðŸ” Debug /api/salon - SUPABASE_URL: Present
ðŸ” Debug /api/salon - SUPABASE_ANON_KEY: Present
ðŸ” Debug /api/salon - Fetching salon for user: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/appointments
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/salons/:salonId/appointments] 2025-11-20T22:16:13.116Z - rawId: c152118c-478b-497b-98db-db37a4c58898 normalized: c152118c-478b-497b-98db-db37a4c58898
[REQ] GET /api/clients
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[GET /api/clients] Utilisateur: authentifiÃ©
[GET /api/clients] salonId depuis req.user: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] salonId final utilisÃ©: c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] RÃ©cupÃ©ration du salon depuis la base de donnÃ©es...
[REQ] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG] ðŸ” RequÃªte vers /api/salons interceptÃ©e: GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[DEBUG] ðŸ” Original URL: /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes
[GET /api/salons/:salonId/stylistes] salonId: c152118c-478b-497b-98db-db37a4c58898 â†’ normalized: c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] Affichage de tous les stylistes pour owner
[REQ] GET /favicon.ico
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[REQ] GET /api/auth/user
[AUTH MIDDLEWARE] DÃ©codÃ©: {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  email: 'veignatpierre@gmail.com',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[AUTH MIDDLEWARE] userType=owner, salonId= c152118c-478b-497b-98db-db37a4c58898
[AUTH OK] {
  id: 'c152118c-478b-497b-98db-db37a4c58898',
  userType: 'owner',
  salonId: 'c152118c-478b-497b-98db-db37a4c58898'
}
[DEBUG AUTH] GET /user - Original URL: /api/auth/user
[GET /api/auth/user] VÃ©rification session: {
  hasSession: true,
  sessionId: 'gUEPj7ONt_t5bUDl6-vDt8-BoyreDIRO',
  hasUserSession: true,
  hasClientSession: false,
  cookies: 'prÃ©sents'
}
ðŸ” Debug /api/salon - Supabase response: [
  {
    id: 'salon-c152118c-478b-497b-98db-db37a4c58898',
    user_id: 'c152118c-478b-497b-98db-db37a4c58898',
    name: 'les cheveux au vent',
    address: 'rue numa, Chaux de fonds',
    phone: '+41 79 133 07 50',
    email: 'veignatpierre@gmail.com',
    created_at: '2025-10-31T18:48:45.102+00:00',
    updated_at: '2025-11-20T17:41:51.939+00:00',
    description: 'Salon de coiffure moderne et professionnel',
    theme_color: 'hsl(211 66% 66%)'
  }
]
11:16:13 PM [express] GET /api/salon 304 in 57ms :: {"id":"salon-c152118c-478b-497b-98db-db37a4c58898â€¦
[GET /api/salons/:salonId/appointments] âœ… Salon trouvÃ© avec ID prÃ©fixÃ©: salon-c152118c-478b-497b-98db-db37a4c58898
[STYLISTES API] DonnÃ©es brutes reÃ§ues de Supabase: [
  {
    "id": "stylist-1762206054932-ioq2gnyww",
    "salon_id": "salon-c152118c-478b-497b-98db-db37a4c58898",
    "first_name": "Nathan",
    "last_name": "Rebetez",
    "email": "",
    "phone": "+0123456789",
    "photo_url": "",
    "specialties": [
      "Enfant",
      "Homme"
    ],
    "is_active": false,
    "created_at": "2025-11-03T21:40:54.932",
    "updated_at": "2025-11-13T20:49:30.398",
    "color": "#6f6f6f"
  }
]
[STYLISTES API] Retour de 3 styliste(s) pour salon c152118c-478b-497b-98db-db37a4c58898 (owner)
[STYLISTES API] Exemple de donnÃ©es mappÃ©es: {
  "id": "stylist-1762206054932-ioq2gnyww",
  "salonId": "salon-c152118c-478b-497b-98db-db37a4c58898",
  "firstName": "Nathan",
  "lastName": "Rebetez",
  "name": "Nathan Rebetez",
  "email": "",
  "phone": "+0123456789",
  "photoUrl": "",
  "specialties": [
    "Enfant",
    "Homme"
  ],
  "isActive": false,
  "color": "#6f6f6f",
  "createdAt": "2025-11-03T21:40:54.932",
  "updatedAt": "2025-11-13T20:49:30.398"
}
11:16:13 PM [express] GET /api/salons/c152118c-478b-497b-98db-db37a4c58898/stylistes 304 in 123ms :: â€¦
[GET /api/auth/user] salonId depuis session: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] userSession complÃ¨te: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Pierre",
  "lastName": "Veignat",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] âœ… Retour utilisateur avec salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] Type de salonId: string
[GET /api/auth/user] Value finale salonId: c152118c-478b-497b-98db-db37a4c58898
[GET /api/auth/user] ðŸ” Objet user final: {
  "id": "c152118c-478b-497b-98db-db37a4c58898",
  "email": "veignatpierre@gmail.com",
  "firstName": "Nathan",
  "lastName": "Passera",
  "phone": "+41 79 133 82 40",
  "salonId": "c152118c-478b-497b-98db-db37a4c58898"
}
[GET /api/auth/user] ðŸ” salonId dans userResponse: c152118c-478b-497b-98db-db37a4c58898
11:16:13 PM [express] GET /api/auth/user 304 in 122ms :: {"authenticated":true,"userType":"owner","usâ€¦
[GET /api/clients] âœ… Salon ID rÃ©cupÃ©rÃ© depuis la DB pour user_id: c152118c-478b-497b-98db-db37a4c58898 â†’ salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] Salon ID final utilisÃ© pour la requÃªte: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/salons/:salonId/appointments] âœ… SuccÃ¨s - 13 rendez-vous trouvÃ©s
[GET /api/clients] âœ… 5 clients trouvÃ©s avec salon_id: salon-c152118c-478b-497b-98db-db37a4c58898
[GET /api/clients] âœ… Retour de 5 client(s)
11:16:13 PM [express] GET /api/clients 304 in 228ms :: [{"id":"client-1762772834221-jpn2kzuw1","salonâ€¦
