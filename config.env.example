# =====================================================
# CONFIGURATION SUPABASE (OBLIGATOIRE)
# =====================================================

# URL de votre projet Supabase
# Format: https://your-project-id.supabase.co
# Trouvée dans Settings > API > Project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Clé anonyme de votre projet Supabase (PUBLIQUE - peut être exposée côté client)
# Trouvée dans Settings > API > Project API keys > anon public
# ⚠️ Cette clé est exposée dans le code client, elle est sécurisée par RLS (Row Level Security)
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here

# Clé anonyme côté serveur (même valeur que VITE_SUPABASE_ANON_KEY)
SUPABASE_ANON_KEY=your-anon-key-here

# Clé de service de votre projet Supabase (PRIVÉE - SERVEUR UNIQUEMENT)
# Trouvée dans Settings > API > Project API keys > service_role
# ⚠️ NE JAMAIS exposer cette clé côté client - elle bypass RLS
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =====================================================
# CONFIGURATION SERVEUR
# =====================================================

# Port du serveur Express (défaut: 5001)
PORT=5001

# Environnement (development | production)
NODE_ENV=development

# Secret pour les sessions Express (générer une chaîne aléatoire)
# Exemple: openssl rand -base64 32
SESSION_SECRET=your-session-secret-here

# =====================================================
# CONFIGURATION BASE DE DONNÉES (OPTIONNEL)
# =====================================================

# URL de connexion PostgreSQL (optionnel si vous utilisez Supabase uniquement)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/salonpilot

# =====================================================
# CONFIGURATION OPENAI (OPTIONNEL - pour l'IA vocale)
# =====================================================

# Clé API OpenAI pour les fonctionnalités vocales
# Format: sk-proj-...
OPENAI_API_KEY=YOUR_OPENAI_API_KEY

# Mode vocal (off | browser | openai)
# - off: désactivé
# - browser: utilise l'API Web Speech du navigateur
# - openai: utilise OpenAI Whisper + GPT
VOICE_MODE=off

# =====================================================
# CONFIGURATION REPLIT (OPTIONNEL)
# =====================================================

# URL de votre application Replit (si déployée sur Replit)
REPLIT_URL=https://your-app.replit.app

# =====================================================
# CONFIGURATION NOTIFICATIONS (OPTIONNEL)
# =====================================================

# Provider SMS (smsup | twilio-sms | twilio-whatsapp | clicksend)
# Défaut: twilio-sms
SMS_PROVIDER=twilio-sms

# SMSup - Provider SMS suisse (legacy)
# Token API (https://doc.smsup.ch/fr/api/sms/token/creer-token)
SMSUP_API_TOKEN=your-smsup-api-token

# (Optionnel) anciennes variables pour compatibilité / debug
# SMSUP_LOGIN=your-smsup-login
# SMSUP_PASSWORD=your-smsup-password

# Nom de l'expéditeur SMS (votre nom de salon ou numéro - max 11 caractères)
SMSUP_SENDER=SalonPilot

# URL de l'API SMSup (optionnel, défaut: https://api.smsup.ch/send)
# SMSUP_API_URL=https://api.smsup.ch/send

# Twilio - Provider SMS/WhatsApp
# Account SID et Auth Token (https://console.twilio.com/)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token

# Numéro WhatsApp (format: whatsapp:+14155238886)
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# Numéro SMS ou Sender ID alphanumérique (format: +14155238886 ou "SalonPilot")
TWILIO_SMS_FROM=+14155238886

# Messaging Service SID (optionnel, priorité sur FROM)
# TWILIO_MESSAGING_SERVICE_SID=MGxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ClickSend - Provider SMS
# Username et API Key (https://dashboard.clicksend.com/)
CLICKSEND_USERNAME=your-clicksend-username
CLICKSEND_API_KEY=your-clicksend-api-key

# Sender ID alphanumérique ou numéro (ex: "SalonPilot" ou "+41791234567")
CLICKSEND_SMS_FROM=SalonPilot

# Resend - Provider Email
# Clé API Resend (obtenue depuis https://resend.com/api-keys)
RESEND_API_KEY=re_your-resend-api-key-here

# Adresse email de l'expéditeur (doit être vérifiée dans Resend)
# Format: "Nom du Salon <noreply@votredomaine.com>"
RESEND_FROM=SalonPilot <noreply@salonpilot.ch>

# Mode dry run pour les notifications (true/false)
# Si true : les notifications sont loggées dans la console mais pas réellement envoyées
# Utile pour le développement sans crédits sur SMSup/Resend
# Si false : les notifications sont réellement envoyées (nécessite des clés API valides)
# NOTIFICATIONS_DRY_RUN=true (déprécié, utilisez SMS_DRY_RUN et EMAIL_DRY_RUN)

# Mode dry run séparé pour SMS et Email (recommandé)
# SMS_DRY_RUN=true (défaut) : Les SMS sont loggés mais pas envoyés
# EMAIL_DRY_RUN=false (défaut) : Les emails sont réellement envoyés
SMS_DRY_RUN=true
EMAIL_DRY_RUN=false

# =====================================================
# INSTRUCTIONS
# =====================================================
# 1. Copiez ce fichier vers .env (ou .env.local)
# 2. Remplissez les valeurs obligatoires (SUPABASE_URL, SUPABASE_ANON_KEY)
# 3. Pour la production, générez un SESSION_SECRET sécurisé
# 4. Les variables VITE_* sont exposées côté client, les autres sont serveur uniquement
# 5. Pour les notifications :
#    - Configurez SMSup et Resend avec vos clés API
#    - Vérifiez votre domaine dans Resend pour envoyer des emails
#    - Si les clés ne sont pas configurées, les notifications seront loggées mais pas envoyées (mode développement)

